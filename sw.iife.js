var sw=function(F){"use strict";var Oi=Object.defineProperty;var ki=(F,O,E)=>O in F?Oi(F,O,{enumerable:!0,configurable:!0,writable:!0,value:E}):F[O]=E;var we=(F,O,E)=>(ki(F,typeof O!="symbol"?O+"":O,E),E);const O=()=>{throw new Error("不可调用未填充的依赖")},E={setItem:O,getItem:O,getNodeByID:O,getDocPathBySY:O,getDocByChildID:O,getHPathByID_Node:O};function Yt(e){return`data/${e.box}${e.path}`}function Rn(e,t){const r=new Set(e.split(","));return t?n=>r.has(n.toLowerCase()):n=>r.has(n)}const q={}.NODE_ENV!=="production"?Object.freeze({}):{},_e=()=>{},Y=Object.assign,Sn=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Tn=Object.prototype.hasOwnProperty,b=(e,t)=>Tn.call(e,t),P=Array.isArray,ve=e=>qe(e)==="[object Map]",Pn=e=>qe(e)==="[object Set]",C=e=>typeof e=="function",je=e=>typeof e=="string",Fe=e=>typeof e=="symbol",W=e=>e!==null&&typeof e=="object",Cn=e=>(W(e)||C(e))&&C(e.then)&&C(e.catch),In=Object.prototype.toString,qe=e=>In.call(e),Qt=e=>qe(e).slice(8,-1),Dn=e=>qe(e)==="[object Object]",lt=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,On=(e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))})(e=>e.charAt(0).toUpperCase()+e.slice(1)),le=(e,t)=>!Object.is(e,t),kn=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})};let Xt;const Zt=()=>Xt||(Xt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function er(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let tr;function Mn(e,t=tr){t&&t.active&&t.effects.push(e)}function Bn(){return tr}let ue;class rr{constructor(t,r,n,s){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,Mn(this,s)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,dt();for(const t of this.deps)if(t.computed&&(An(t.computed),this._dirtyLevel>=2))break;ht(),this._queryings--}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ee,r=ue;try{return ee=!0,ue=this,this._runnings++,nr(this),this.fn()}finally{sr(this),this._runnings--,ue=r,ee=t}}stop(){var t;this.active&&(nr(this),sr(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function An(e){return e.value}function nr(e){e._trackId++,e._depsLength=0}function sr(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)ir(e.deps[t],e);e.deps.length=e._depsLength}}function ir(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let ee=!0,ut=0;const or=[];function dt(){or.push(ee),ee=!1}function ht(){const e=or.pop();ee=e===void 0?!0:e}function ft(){ut++}function pt(){for(ut--;!ut&&gt.length;)gt.shift()()}function ar(e,t,r){var n;if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&ir(s,e),e.deps[e._depsLength++]=t):e._depsLength++,{}.NODE_ENV!=="production"&&((n=e.onTrack)==null||n.call(e,Y({effect:e},r)))}}const gt=[];function cr(e,t,r){var n;ft();for(const s of e.keys())if(!(!s.allowRecurse&&s._runnings)&&s._dirtyLevel<t&&(!s._runnings||t!==2)){const i=s._dirtyLevel;s._dirtyLevel=t,i===0&&(!s._queryings||t!==2)&&({}.NODE_ENV!=="production"&&((n=s.onTrigger)==null||n.call(s,Y({effect:s},r))),s.trigger(),s.scheduler&&gt.push(s.scheduler))}pt()}const lr=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},mt=new WeakMap,de=Symbol({}.NODE_ENV!=="production"?"iterate":""),wt=Symbol({}.NODE_ENV!=="production"?"Map key iterate":"");function k(e,t,r){if(ee&&ue){let n=mt.get(e);n||mt.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=lr(()=>n.delete(r))),ar(ue,s,{}.NODE_ENV!=="production"?{target:e,type:t,key:r}:void 0)}}function te(e,t,r,n,s,i){const o=mt.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&P(e)){const c=Number(n);o.forEach((l,d)=>{(d==="length"||!Fe(d)&&d>=c)&&a.push(l)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":P(e)?lt(r)&&a.push(o.get("length")):(a.push(o.get(de)),ve(e)&&a.push(o.get(wt)));break;case"delete":P(e)||(a.push(o.get(de)),ve(e)&&a.push(o.get(wt)));break;case"set":ve(e)&&a.push(o.get(de));break}ft();for(const c of a)c&&cr(c,3,{}.NODE_ENV!=="production"?{target:e,type:t,key:r,newValue:n,oldValue:s,oldTarget:i}:void 0);pt()}const Hn=Rn("__proto__,__v_isRef,__isVue"),ur=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fe)),dr=Ln();function Ln(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=g(this);for(let i=0,o=this.length;i<o;i++)k(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(g)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){dt(),ft();const n=g(this)[t].apply(this,r);return pt(),ht(),n}}),e}function Vn(e){const t=g(this);return k(t,"has",e),t.hasOwnProperty(e)}class hr{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,n){const s=this._isReadonly,i=this._shallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?Er:yr:i?Zn:vr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=P(t);if(!s){if(o&&b(dr,r))return Reflect.get(dr,r,n);if(r==="hasOwnProperty")return Vn}const a=Reflect.get(t,r,n);return(Fe(r)?ur.has(r):Hn(r))||(s||k(t,"get",r),i)?a:V(a)?o&&lt(r)?a:a.value:W(a)?s?br(a):yt(a):a}}class jn extends hr{constructor(t=!1){super(!1,t)}set(t,r,n,s){let i=t[r];if(!this._shallow){const c=Ee(i);if(!$e(n)&&!Ee(n)&&(i=g(i),n=g(n)),!P(t)&&V(i)&&!V(n))return c?!1:(i.value=n,!0)}const o=P(t)&&lt(r)?Number(r)<t.length:b(t,r),a=Reflect.set(t,r,n,s);return t===g(s)&&(o?le(n,i)&&te(t,"set",r,n,i):te(t,"add",r,n)),a}deleteProperty(t,r){const n=b(t,r),s=t[r],i=Reflect.deleteProperty(t,r);return i&&n&&te(t,"delete",r,void 0,s),i}has(t,r){const n=Reflect.has(t,r);return(!Fe(r)||!ur.has(r))&&k(t,"has",r),n}ownKeys(t){return k(t,"iterate",P(t)?"length":de),Reflect.ownKeys(t)}}class fr extends hr{constructor(t=!1){super(!0,t)}set(t,r){return{}.NODE_ENV!=="production"&&er(`Set operation on key "${String(r)}" failed: target is readonly.`,t),!0}deleteProperty(t,r){return{}.NODE_ENV!=="production"&&er(`Delete operation on key "${String(r)}" failed: target is readonly.`,t),!0}}const Fn=new jn,qn=new fr,Wn=new fr(!0),_t=e=>e,We=e=>Reflect.getPrototypeOf(e);function ze(e,t,r=!1,n=!1){e=e.__v_raw;const s=g(e),i=g(t);r||(le(t,i)&&k(s,"get",t),k(s,"get",i));const{has:o}=We(s),a=n?_t:r?xt:bt;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function Ue(e,t=!1){const r=this.__v_raw,n=g(r),s=g(e);return t||(le(e,s)&&k(n,"has",e),k(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function Ke(e,t=!1){return e=e.__v_raw,!t&&k(g(e),"iterate",de),Reflect.get(e,"size",e)}function pr(e){e=g(e);const t=g(this);return We(t).has.call(t,e)||(t.add(e),te(t,"add",e,e)),this}function gr(e,t){t=g(t);const r=g(this),{has:n,get:s}=We(r);let i=n.call(r,e);i?{}.NODE_ENV!=="production"&&_r(r,n,e):(e=g(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?le(t,o)&&te(r,"set",e,t,o):te(r,"add",e,t),this}function mr(e){const t=g(this),{has:r,get:n}=We(t);let s=r.call(t,e);s?{}.NODE_ENV!=="production"&&_r(t,r,e):(e=g(e),s=r.call(t,e));const i=n?n.call(t,e):void 0,o=t.delete(e);return s&&te(t,"delete",e,void 0,i),o}function wr(){const e=g(this),t=e.size!==0,r={}.NODE_ENV!=="production"?ve(e)?new Map(e):new Set(e):void 0,n=e.clear();return t&&te(e,"clear",void 0,void 0,r),n}function Ge(e,t){return function(n,s){const i=this,o=i.__v_raw,a=g(o),c=t?_t:e?xt:bt;return!e&&k(a,"iterate",de),o.forEach((l,d)=>n.call(s,c(l),c(d),i))}}function Je(e,t,r){return function(...n){const s=this.__v_raw,i=g(s),o=ve(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...n),d=r?_t:t?xt:bt;return!t&&k(i,"iterate",c?wt:de),{next(){const{value:u,done:h}=l.next();return h?{value:u,done:h}:{value:a?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function re(e){return function(...t){if({}.NODE_ENV!=="production"){const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${On(e)} operation ${r}failed: target is readonly.`,g(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function zn(){const e={get(i){return ze(this,i)},get size(){return Ke(this)},has:Ue,add:pr,set:gr,delete:mr,clear:wr,forEach:Ge(!1,!1)},t={get(i){return ze(this,i,!1,!0)},get size(){return Ke(this)},has:Ue,add:pr,set:gr,delete:mr,clear:wr,forEach:Ge(!1,!0)},r={get(i){return ze(this,i,!0)},get size(){return Ke(this,!0)},has(i){return Ue.call(this,i,!0)},add:re("add"),set:re("set"),delete:re("delete"),clear:re("clear"),forEach:Ge(!0,!1)},n={get(i){return ze(this,i,!0,!0)},get size(){return Ke(this,!0)},has(i){return Ue.call(this,i,!0)},add:re("add"),set:re("set"),delete:re("delete"),clear:re("clear"),forEach:Ge(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Je(i,!1,!1),r[i]=Je(i,!0,!1),t[i]=Je(i,!1,!0),n[i]=Je(i,!0,!0)}),[e,r,t,n]}const[Un,Kn,Gn,Jn]=zn();function vt(e,t){const r=t?e?Jn:Gn:e?Kn:Un;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(b(r,s)&&s in n?r:n,s,i)}const Yn={get:vt(!1,!1)},Qn={get:vt(!0,!1)},Xn={get:vt(!0,!0)};function _r(e,t,r){const n=g(r);if(n!==r&&t.call(e,n)){const s=Qt(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const vr=new WeakMap,Zn=new WeakMap,yr=new WeakMap,Er=new WeakMap;function es(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ts(e){return e.__v_skip||!Object.isExtensible(e)?0:es(Qt(e))}function yt(e){return Ee(e)?e:Et(e,!1,Fn,Yn,vr)}function br(e){return Et(e,!0,qn,Qn,yr)}function Ye(e){return Et(e,!0,Wn,Xn,Er)}function Et(e,t,r,n,s){if(!W(e))return{}.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=ts(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return s.set(e,a),a}function ye(e){return Ee(e)?ye(e.__v_raw):!!(e&&e.__v_isReactive)}function Ee(e){return!!(e&&e.__v_isReadonly)}function $e(e){return!!(e&&e.__v_isShallow)}function g(e){const t=e&&e.__v_raw;return t?g(t):e}function rs(e){return kn(e,"__v_skip",!0),e}const bt=e=>W(e)?yt(e):e,xt=e=>W(e)?br(e):e;class xr{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new rr(()=>t(this._value),()=>Nt(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=g(this);return Nr(t),(!t._cacheable||t.effect.dirty)&&le(t._value,t._value=t.effect.run())&&Nt(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function ns(e,t,r=!1){let n,s;const i=C(e);i?(n=e,s={}.NODE_ENV!=="production"?()=>{console.warn("Write operation failed: computed value is readonly")}:_e):(n=e.get,s=e.set);const o=new xr(n,s,i||!s,r);return{}.NODE_ENV!=="production"&&t&&!r&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger),o}function Nr(e){ee&&ue&&(e=g(e),ar(ue,e.dep||(e.dep=lr(()=>e.dep=void 0,e instanceof xr?e:void 0)),{}.NODE_ENV!=="production"?{target:e,type:"get",key:"value"}:void 0))}function Nt(e,t=3,r){e=g(e);const n=e.dep;n&&cr(n,t,{}.NODE_ENV!=="production"?{target:e,type:"set",key:"value",newValue:r}:void 0)}function V(e){return!!(e&&e.__v_isRef===!0)}function ss(e){return V(e)?e.value:e}const is={get:(e,t,r)=>ss(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return V(s)&&!V(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function os(e){return ye(e)?e:new Proxy(e,is)}class as{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>Nr(this),()=>Nt(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function cs(e){return new as(e)}const he=[];function ls(e){he.push(e)}function us(){he.pop()}function I(e,...t){dt();const r=he.length?he[he.length-1].component:null,n=r&&r.appContext.config.warnHandler,s=ds();if(n)fe(n,r,11,[e+t.join(""),r&&r.proxy,s.map(({vnode:i})=>`at <${jr(r,i.type)}>`).join(`
`),s]);else{const i=[`[Vue warn]: ${e}`,...t];s.length&&i.push(`
`,...hs(s)),console.warn(...i)}ht()}function ds(){let e=he[he.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function hs(e){const t=[];return e.forEach((r,n)=>{t.push(...n===0?[]:[`
`],...fs(r))}),t}function fs({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,s=` at <${jr(e.component,e.type,n)}`,i=">"+r;return e.props?[s,...ps(e.props),i]:[s+i]}function ps(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(n=>{t.push(...$r(n,e[n]))}),r.length>3&&t.push(" ..."),t}function $r(e,t,r){return je(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:V(t)?(t=$r(e,g(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):C(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=g(t),r?t:[`${e}=`,t])}const Rr={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function fe(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){$t(i,t,r)}return s}function Qe(e,t,r,n){if(C(e)){const i=fe(e,t,r,n);return i&&Cn(i)&&i.catch(o=>{$t(o,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Qe(e[i],t,r,n));return s}function $t(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a={}.NODE_ENV!=="production"?Rr[r]:`https://vuejs.org/errors/#runtime-${r}`;for(;i;){const l=i.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){fe(c,null,10,[e,o,a]);return}}gs(e,r,s,n)}function gs(e,t,r,n=!0){if({}.NODE_ENV!=="production"){const s=Rr[t];if(r&&ls(r),I(`Unhandled error${s?` during execution of ${s}`:""}`),r&&us(),n)throw e;console.error(e)}else console.error(e)}let Xe=!1,Rt=!1;const j=[];let ne=0;const be=[];let z=null,se=0;const Sr=Promise.resolve();let St=null;const ms=100;function Tt(e){const t=St||Sr;return e?t.then(this?e.bind(this):e):t}function ws(e){let t=ne+1,r=j.length;for(;t<r;){const n=t+r>>>1,s=j[n],i=Re(s);i<e||i===e&&s.pre?t=n+1:r=n}return t}function Pt(e){(!j.length||!j.includes(e,Xe&&e.allowRecurse?ne+1:ne))&&(e.id==null?j.push(e):j.splice(ws(e.id),0,e),Tr())}function Tr(){!Xe&&!Rt&&(Rt=!0,St=Sr.then(Cr))}function Pr(e){P(e)?be.push(...e):(!z||!z.includes(e,e.allowRecurse?se+1:se))&&be.push(e),Tr()}function _s(e){if(be.length){const t=[...new Set(be)];if(be.length=0,z){z.push(...t);return}for(z=t,{}.NODE_ENV!=="production"&&(e=e||new Map),z.sort((r,n)=>Re(r)-Re(n)),se=0;se<z.length;se++)({}).NODE_ENV!=="production"&&Ir(e,z[se])||z[se]();z=null,se=0}}const Re=e=>e.id==null?1/0:e.id,vs=(e,t)=>{const r=Re(e)-Re(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Cr(e){Rt=!1,Xe=!0,{}.NODE_ENV!=="production"&&(e=e||new Map),j.sort(vs);const t={}.NODE_ENV!=="production"?r=>Ir(e,r):_e;try{for(ne=0;ne<j.length;ne++){const r=j[ne];if(r&&r.active!==!1){if({}.NODE_ENV!=="production"&&t(r))continue;fe(r,null,14)}}}finally{ne=0,j.length=0,_s(e),Xe=!1,St=null,(j.length||be.length)&&Cr(e)}}function Ir(e,t){if(!e.has(t))e.set(t,1);else{const r=e.get(t);if(r>ms){const n=t.ownerInstance,s=n&&Vr(n.type);return $t(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else e.set(t,r+1)}}const Se=new Set;({}).NODE_ENV!=="production"&&(Zt().__VUE_HMR_RUNTIME__={createRecord:Ct(ys),rerender:Ct(Es),reload:Ct(bs)});const Ze=new Map;function ys(e,t){return Ze.has(e)?!1:(Ze.set(e,{initialDef:Te(t),instances:new Set}),!0)}function Te(e){return js(e)?e.__vccOpts:e}function Es(e,t){const r=Ze.get(e);r&&(r.initialDef.render=t,[...r.instances].forEach(n=>{t&&(n.render=t,Te(n.type).render=t),n.renderCache=[],n.effect.dirty=!0,n.update()}))}function bs(e,t){const r=Ze.get(e);if(!r)return;t=Te(t),Dr(r.initialDef,t);const n=[...r.instances];for(const s of n){const i=Te(s.type);Se.has(i)||(i!==r.initialDef&&Dr(i,t),Se.add(i)),s.appContext.propsCache.delete(s.type),s.appContext.emitsCache.delete(s.type),s.appContext.optionsCache.delete(s.type),s.ceReload?(Se.add(i),s.ceReload(t.styles),Se.delete(i)):s.parent?(s.parent.effect.dirty=!0,Pt(s.parent.update)):s.appContext.reload?s.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Pr(()=>{for(const s of n)Se.delete(Te(s.type))})}function Dr(e,t){Y(e,t);for(const r in e)r!=="__file"&&!(r in t)&&delete e[r]}function Ct(e){return(t,r)=>{try{return e(t,r)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let It=null;function xs(e,t){t&&t.pendingBranch?P(e)?t.effects.push(...e):t.effects.push(e):Pr(e)}const Ns=Symbol.for("v-scx"),$s=()=>{{const e=Ms(Ns);return e||{}.NODE_ENV!=="production"&&I("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Rs(e,t){return Ot(e,null,t)}const et={};function Dt(e,t,r){return{}.NODE_ENV!=="production"&&!C(t)&&I("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Ot(e,t,r)}function Ot(e,t,{immediate:r,deep:n,flush:s,once:i,onTrack:o,onTrigger:a}=q){var c;if(t&&i){const m=t;t=(...J)=>{m(...J),ce()}}({}).NODE_ENV!=="production"&&!t&&(r!==void 0&&I('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),n!==void 0&&I('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&I('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=m=>{I("Invalid watch source: ",m,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},d=Bn()===((c=pe)==null?void 0:c.scope)?pe:null;let u,h=!1,p=!1;if(V(e)?(u=()=>e.value,h=$e(e)):ye(e)?(u=$e(e)||n===!1?()=>ie(e,1):()=>ie(e),h=!0):P(e)?(p=!0,h=e.some(m=>ye(m)||$e(m)),u=()=>e.map(m=>{if(V(m))return m.value;if(ye(m))return ie(m,$e(m)||n===!1?1:void 0);if(C(m))return fe(m,d,2);({}).NODE_ENV!=="production"&&l(m)})):C(e)?t?u=()=>fe(e,d,2):u=()=>{if(!(d&&d.isUnmounted))return _&&_(),Qe(e,d,3,[w])}:(u=_e,{}.NODE_ENV!=="production"&&l(e)),t&&n){const m=u;u=()=>ie(m())}let _,w=m=>{_=R.onStop=()=>{fe(m,d,4),_=R.onStop=void 0}},S;if(At)if(w=_e,t?r&&Qe(t,d,3,[u(),p?[]:void 0,w]):u(),s==="sync"){const m=$s();S=m.__watcherHandles||(m.__watcherHandles=[])}else return _e;let N=p?new Array(e.length).fill(et):et;const B=()=>{if(!(!R.active||!R.dirty))if(t){const m=R.run();(n||h||(p?m.some((J,ct)=>le(J,N[ct])):le(m,N)))&&(_&&_(),Qe(t,d,3,[m,N===et?void 0:p&&N[0]===et?[]:N,w]),N=m)}else R.run()};B.allowRecurse=!!t;let G;s==="sync"?G=B:s==="post"?G=()=>Hr(B,d&&d.suspense):(B.pre=!0,d&&(B.id=d.uid),G=()=>Pt(B));const R=new rr(u,_e,G),ce=()=>{R.stop(),d&&d.scope&&Sn(d.scope.effects,R)};return{}.NODE_ENV!=="production"&&(R.onTrack=o,R.onTrigger=a),t?r?B():N=R.run():s==="post"?Hr(R.run.bind(R),d&&d.suspense):R.run(),S&&S.push(ce),ce}function Ss(e,t,r){const n=this.proxy,s=je(e)?e.includes(".")?Ts(n,e):()=>n[e]:e.bind(n,n);let i;C(t)?i=t:(i=t.handler,r=t);const o=pe;Lr(this);const a=Ot(s,i.bind(n),r);return o?Lr(o):Bs(),a}function Ts(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function ie(e,t,r=0,n){if(!W(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(n=n||new Set,n.has(e))return e;if(n.add(e),V(e))ie(e.value,t,r,n);else if(P(e))for(let s=0;s<e.length;s++)ie(e[s],t,r,n);else if(Pn(e)||ve(e))e.forEach(s=>{ie(s,t,r,n)});else if(Dn(e))for(const s in e)ie(e[s],t,r,n);return e}const kt=e=>e?As(e)?Hs(e)||e.proxy:kt(e.parent):null,Pe=Y(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>({}).NODE_ENV!=="production"?Ye(e.props):e.props,$attrs:e=>({}).NODE_ENV!=="production"?Ye(e.attrs):e.attrs,$slots:e=>({}).NODE_ENV!=="production"?Ye(e.slots):e.slots,$refs:e=>({}).NODE_ENV!=="production"?Ye(e.refs):e.refs,$parent:e=>kt(e.parent),$root:e=>kt(e.root),$emit:e=>e.emit,$options:e=>Is(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Pt(e.update)}),$nextTick:e=>e.n||(e.n=Tt.bind(e.proxy)),$watch:e=>Ss.bind(e)}),Ps=e=>e==="_"||e==="$",Mt=(e,t)=>e!==q&&!e.__isScriptSetup&&b(e,t),Cs={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=e;if({}.NODE_ENV!=="production"&&t==="__isVue")return!0;let l;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(Mt(n,t))return o[t]=1,n[t];if(s!==q&&b(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&b(l,t))return o[t]=3,i[t];if(r!==q&&b(r,t))return o[t]=4,r[t];o[t]=0}}const d=Pe[t];let u,h;if(d)return(t==="$attrs"||{}.NODE_ENV!=="production"&&t==="$slots")&&k(e,"get",t),d(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(r!==q&&b(r,t))return o[t]=4,r[t];if(h=c.config.globalProperties,b(h,t))return h[t];({}).NODE_ENV!=="production"&&It&&(!je(t)||t.indexOf("__v")!==0)&&(s!==q&&Ps(t[0])&&b(s,t)?I(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===It&&I(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return Mt(s,t)?(s[t]=r,!0):{}.NODE_ENV!=="production"&&s.__isScriptSetup&&b(s,t)?(I(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):n!==q&&b(n,t)?(n[t]=r,!0):b(e.props,t)?({}.NODE_ENV!=="production"&&I(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?({}.NODE_ENV!=="production"&&I(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):({}.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(i,t,{enumerable:!0,configurable:!0,value:r}):i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||e!==q&&b(e,o)||Mt(t,o)||(a=i[0])&&b(a,o)||b(n,o)||b(Pe,o)||b(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:b(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};({}).NODE_ENV!=="production"&&(Cs.ownKeys=e=>(I("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function Or(e){return P(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function Is(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!r&&!n?c=t:(c={},s.length&&s.forEach(l=>tt(c,l,o,!0)),tt(c,t,o)),W(t)&&i.set(t,c),c}function tt(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&tt(e,i,r,!0),s&&s.forEach(o=>tt(e,o,r,!0));for(const o in t)if(n&&o==="expose")({}).NODE_ENV!=="production"&&I('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=Ds[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Ds={data:kr,props:Br,emits:Br,methods:Ce,computed:Ce,beforeCreate:D,created:D,beforeMount:D,mounted:D,beforeUpdate:D,updated:D,beforeDestroy:D,beforeUnmount:D,destroyed:D,unmounted:D,activated:D,deactivated:D,errorCaptured:D,serverPrefetch:D,components:Ce,directives:Ce,watch:ks,provide:kr,inject:Os};function kr(e,t){return t?e?function(){return Y(C(e)?e.call(this,this):e,C(t)?t.call(this,this):t)}:t:e}function Os(e,t){return Ce(Mr(e),Mr(t))}function Mr(e){if(P(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function D(e,t){return e?[...new Set([].concat(e,t))]:t}function Ce(e,t){return e?Y(Object.create(null),e,t):t}function Br(e,t){return e?P(e)&&P(t)?[...new Set([...e,...t])]:Y(Object.create(null),Or(e),Or(t??{})):t}function ks(e,t){if(!e)return t;if(!t)return e;const r=Y(Object.create(null),e);for(const n in t)r[n]=D(e[n],t[n]);return r}let Ar=null;function Ms(e,t,r=!1){const n=pe||It;if(n||Ar){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Ar._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&C(t)?t.call(n&&n.proxy):t;({}).NODE_ENV!=="production"&&I(`injection "${String(e)}" not found.`)}else({}).NODE_ENV!=="production"&&I("inject() can only be used inside setup() or functional components.")}const Hr=xs;let pe=null,Bt;{const e=Zt(),t=(r,n)=>{let s;return(s=e[r])||(s=e[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Bt=t("__VUE_INSTANCE_SETTERS__",r=>pe=r),t("__VUE_SSR_SETTERS__",r=>At=r)}const Lr=e=>{Bt(e),e.scope.on()},Bs=()=>{pe&&pe.scope.off(),Bt(null)};function As(e){return e.vnode.shapeFlag&4}let At=!1;function Hs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(os(rs(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Pe)return Pe[r](e)},has(t,r){return r in t||r in Pe}}))}const Ls=/(?:^|[-_])(\w)/g,Vs=e=>e.replace(Ls,t=>t.toUpperCase()).replace(/[-_]/g,"");function Vr(e,t=!0){return C(e)?e.displayName||e.name:e.name||t&&e.__name}function jr(e,t,r=!1){let n=Vr(t);if(!n&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(n=s[1])}if(!n&&e&&e.parent){const s=i=>{for(const o in i)if(i[o]===t)return o};n=s(e.components||e.parent.type.components)||s(e.appContext.components)}return n?Vs(n):r?"App":"Anonymous"}function js(e){return C(e)&&"__vccOpts"in e}const Fs=(e,t)=>ns(e,t,At);function Ht(e){return!!(e&&e.__v_isShallow)}function qs(){if({}.NODE_ENV==="production"||typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},r={style:"color:#f5222d"},n={style:"color:#eb2f96"},s={header(u){return W(u)?u.__isVue?["div",e,"VueInstance"]:V(u)?["div",{},["span",e,d(u)],"<",a(u.value),">"]:ye(u)?["div",{},["span",e,Ht(u)?"ShallowReactive":"Reactive"],"<",a(u),`>${Ee(u)?" (readonly)":""}`]:Ee(u)?["div",{},["span",e,Ht(u)?"ShallowReadonly":"Readonly"],"<",a(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...i(u.$)]}};function i(u){const h=[];u.type.props&&u.props&&h.push(o("props",g(u.props))),u.setupState!==q&&h.push(o("setup",u.setupState)),u.data!==q&&h.push(o("data",g(u.data)));const p=c(u,"computed");p&&h.push(o("computed",p));const _=c(u,"inject");return _&&h.push(o("injected",_)),h.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),h}function o(u,h){return h=Y({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(p=>["div",{},["span",n,p+": "],a(h[p],!1)])]]:["span",{}]}function a(u,h=!0){return typeof u=="number"?["span",t,u]:typeof u=="string"?["span",r,JSON.stringify(u)]:typeof u=="boolean"?["span",n,u]:W(u)?["object",{object:h?g(u):u}]:["span",r,String(u)]}function c(u,h){const p=u.type;if(C(p))return;const _={};for(const w in u.ctx)l(p,w,h)&&(_[w]=u.ctx[w]);return _}function l(u,h,p){const _=u[p];if(P(_)&&_.includes(h)||W(_)&&h in _||u.extends&&l(u.extends,h,p)||u.mixins&&u.mixins.some(w=>l(w,h,p)))return!0}function d(u){return Ht(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(s):window.devtoolsFormatters=[s]}function Ws(){qs()}({}).NODE_ENV!=="production"&&Ws();class zs{constructor(){we(this,"pending",!1);we(this,"fulfilled",!1);we(this,"rejected",!1);we(this,"data",{});we(this,"error",{});we(this,"_p",Promise.resolve())}setP(t){this._p=t}equalP(t){return this._p===t}reLoad(){}setValue(t){}}const Us=Symbol();function Lt({deps:e,getter:t,dataMergeFun:r=(s,i)=>i,defaultData:n}){const s=new zs;return n!==void 0&&(s.data=n),cs((i,o)=>{if(!e&&t)Rs(()=>a(t()));else if(e&&t)if(e instanceof Function){const c=e();Array.isArray(c)&&c.length===0||Dt(e,()=>a(t()),{immediate:!0})}else Dt(e,()=>a(t()),{immediate:!0});function a(c){if(s.pending=!0,s.fulfilled=!1,s.rejected=!1,c===Us){Tt(o);return}s.setP(c),Tt(o),c.then(l=>{s.equalP(c)&&(s.pending=!1,s.fulfilled=!0,s.data=r(s.data,l))}).catch(l=>{s.equalP(c)&&(s.pending=!1,s.rejected=!0,s.error=l)}).finally(()=>{s.equalP(c)&&o()})}return s.reLoad=()=>{t&&a(t())},s.setValue=c=>{s.pending=!1,s.fulfilled=!0,s.data=r(s.data,c),o()},{get(){return i(),s},set(c){console.warn("不可设置值")}}})}(e=>{function t(n){return e({deps:()=>[],getter:n})}e.nullDeps=t;function r(n){return e({getter(){return n()}})}e.fn=r})(Lt||(Lt={}));function Ie(e,t,r={add:!0,update:!0}){for(let n in t)t.hasOwnProperty(n)&&(t[n]instanceof Object&&!Array.isArray(t[n])?(e.hasOwnProperty(n)||(e[n]={}),Ie(e[n],t[n],r)):(!e.hasOwnProperty(n)&&r.add||r.update)&&(e[n]=t[n]));return e}const Fr={name:"default",notebook:{},authorized:"",apiPrefix:"http://127.0.0.1:6806",compressedZip:!0,withoutPublicZip:!0,excludeAssetsCopy:!1,sitemap:{enable:!0,sitePrefix:".",siteLink:"",description:"",title:"",rss:!0},enableIncrementalCompilation:!1,enableIncrementalCompilation_doc:!0,__skipBuilds__:{},cdn:{siyuanPrefix:"https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@v0.0.7/apps/frontend/public/notebook/",publicZip:"https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@v0.0.7/apps/frontend/public/public.zip"},s3:{enable:!1,bucket:"",region:"",pathPrefix:"",endpoint:"",accessKeyId:"",secretAccessKey:""},meilisearch:{enable:!1,host:"",apiKey:"",indexName:""},embedCode:{head:"",beforeBody:"",afterBody:`<footer>
<p style="text-align:center;margin:15px 0;">
  技术支持：
  <a target="_blank" href="https://github.com/2234839/oceanPress_js">OceanPress</a> |
  开发者：
  <a target="_blank" href="https://heartstack.space/user/%E5%AD%90%E8%99%9A/posts">崮生（子虚）</a>
</p>
</footer>`},OceanPress:{version:"0.0.10"}},Q=yt({__current__:"default",__init__:!0,default:Ie({},Fr)}),qr=e=>{if(e)Ie(Q,e);else{const t=E.getItem("configs");t&&Ie(Q,JSON.parse(t))}Object.entries(Q).filter(([t])=>t.startsWith("__")===!1).forEach(([t,r])=>{Ie(r,Fr,{update:!1,add:!0})})},ge=Fs(()=>Q[Q.__current__]),Ks=()=>{Q.__init__===!1&&E.setItem("configs",JSON.stringify(Q,null,2))};let rt=null;Dt(Q,()=>{rt&&clearTimeout(rt),rt=setTimeout(()=>{Ks(),rt=null},700)},{deep:!0}),Q.__init__=!1,globalThis.document&&qr();async function Wr(e,t){const r=ge.value.apiPrefix,n=ge.value.authorized;if(e==="get_assets")return fetch(`${r}/${t[0].path}`,{headers:{Authorization:`Token ${n}`},body:null,method:"GET",mode:"cors"}).then(o=>o.arrayBuffer());const s=await fetch(`${r}/api/${e.replace(/_/g,"/")}`,{headers:{Authorization:`Token ${n}`},body:JSON.stringify(t[0]),method:"POST"}).catch(o=>{throw o.message="访问思源接口时出错了，请检查思源服务是否启动",o});if(e==="file_getFile"){const o=t[0].path;if(o.endsWith(".sy"))return await s.json();{const a=await s.arrayBuffer();if(a.byteLength<200){const l=new TextDecoder().decode(a);if(JSON.parse(l).code===404)throw new Error(`文件不存在: ${o}`)}return a}}const i=await s.json();if(i.code!==0)throw new Error(i.msg);return i.data}const Vt=new Proxy({},{get(e,t){return(...r)=>Wr(t,r)}});new Proxy({},{get(e,t){return(...r)=>Lt.fn(()=>Wr(t,r))}});let X=!0;function Gs(e){X=e}const jt=new Map,zr=new Map,Ur=new Map,Kr=new Map;async function Gr(e){if(X&&jt.has(e))return jt.get(e);const t=await Vt.query_sql({stmt:e});return X&&jt.set(e,t),t}async function Jr(e){if(X){const n=zr.get(e);if(n)return n}const t=(await Gr(`SELECT * FROM blocks WHERE hpath = '${e}'`))[0];if(t===void 0)throw new Error(`not doc by:${e}`);const r=await Js(Yt(t));return X&&zr.set(e,r),r}async function Js(e){const t=Xr(await Vt.file_getFile({path:e}));return X&&Qr(t),t}async function Ft(e){if(X){const r=Kr.get(e);if(r)return r}const t=await Gr(`
          SELECT * from blocks
          WHERE id = '${e}'
        `);if(t.length!==0)return X&&Kr.set(e,t[0]),t[0]}async function Yr(e){if(X){const r=Ur.get(e);if(r){let n=r;for(;;){if(n.Type==="NodeDocument")return n;if(n===void 0)break;n=n.Parent}}}const t=await Ft(e);if(t!==void 0)return await Jr(t.hpath)}function Qr(e){e.ID&&Ur.set(e.ID,e),e.Children&&e.Children.forEach(Qr)}function Xr(e){for(const t of(e==null?void 0:e.Children)??[])t.Parent=e,Xr(t);return e}E.getDocByChildID=async e=>await Yr(e),E.getDocPathBySY=async e=>{if(e!=null&&e.ID){const t=await Ft(e.ID);if(t)return Yt(t)}},E.getHPathByID_Node=async e=>{const t=typeof e=="string"?e:e.ID;if(t===void 0)throw new Error("id is undefined");if(await Yr(t)===void 0)throw new Error("docNode is undefined");const n=await Ft(t);if(n===void 0)throw new Error("docBlock is undefined");return n.hpath},E.getNodeByID=async e=>{if(e===void 0)return;const t=await E.getDocByChildID(e);if(t===void 0)return;return r(t);function r(n){if(n.ID===e)return n;if(n.Children!==void 0)for(const s of n.Children){const i=r(s);if(i)return i}}};var Ys=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},Qs=e=>{const t=[];for(let n=0;;){let s=!1;if(e=e.replace(/\{[^}]+\}/g,i=>{const o=`@\\${n}`;return t[n]=[o,i],n++,s=!0,o}),!s)break}const r=e.split("/");r[0]===""&&r.shift();for(let n=t.length-1;n>=0;n--){const[s]=t[n];for(let i=r.length-1;i>=0;i--)if(r[i].indexOf(s)!==-1){r[i]=r[i].replace(s,t[n][1]);break}}return r},nt={},Zr=e=>{if(e==="*")return"*";const t=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);return t?(nt[e]||(t[2]?nt[e]=[e,t[1],new RegExp("^"+t[2]+"$")]:nt[e]=[e,t[1],!0]),nt[e]):null},en=e=>{const t=e.url.match(/^https?:\/\/[^/]+(\/[^?]*)/);return t?t[1]:""},Xs=e=>{const t=e.indexOf("?",8);return t===-1?"":"?"+e.slice(t+1)},Zs=e=>{const t=en(e);return t.length>1&&t[t.length-1]==="/"?t.slice(0,-1):t},De=(...e)=>{let t="",r=!1;for(let n of e)t[t.length-1]==="/"&&(t=t.slice(0,-1),r=!0),n[0]!=="/"&&(n=`/${n}`),n==="/"&&r?t=`${t}/`:n!=="/"&&(t=`${t}${n}`),n==="/"&&t===""&&(t="/");return t},tn=e=>{const t=e.match(/^(.+|)(\/\:[^\/]+)\?$/);if(!t)return null;const r=t[1],n=r+t[2];return[r===""?"/":r.replace(/\/$/,""),n]},qt=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),/%/.test(e)?st(e):e):e,rn=(e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let o=e.indexOf(`?${t}`,8);for(o===-1&&(o=e.indexOf(`&${t}`,8));o!==-1;){const a=e.charCodeAt(o+t.length+1);if(a===61){const c=o+t.length+2,l=e.indexOf("&",c);return qt(e.slice(c,l===-1?void 0:l))}else if(a==38||isNaN(a))return"";o=e.indexOf(`&${t}`,o+1)}if(n=/[%+]/.test(e),!n)return}const s={};n??(n=/[%+]/.test(e));let i=e.indexOf("?",8);for(;i!==-1;){const o=e.indexOf("&",i+1);let a=e.indexOf("=",i);a>o&&o!==-1&&(a=-1);let c=e.slice(i+1,a===-1?o===-1?void 0:o:a);if(n&&(c=qt(c)),i=o,c==="")continue;let l;a===-1?l="":(l=e.slice(a+1,o===-1?void 0:o),n&&(l=qt(l))),r?(s[c]&&Array.isArray(s[c])||(s[c]=[]),s[c].push(l)):s[c]??(s[c]=l)}return t?s[t]:s},ei=rn,ti=(e,t)=>rn(e,t,!0),st=decodeURIComponent,ri=/^[\w!#$%&'*.^`|~+-]+$/,ni=/^[ !#-:<-[\]-~]*$/,si=(e,t)=>e.trim().split(";").reduce((n,s)=>{s=s.trim();const i=s.indexOf("=");if(i===-1)return n;const o=s.substring(0,i).trim();if(t&&t!==o||!ri.test(o))return n;let a=s.substring(i+1).trim();return a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),ni.test(a)&&(n[o]=st(a)),n},{}),ii=(e,t,r={})=>{let n=`${e}=${t}`;return r&&typeof r.maxAge=="number"&&r.maxAge>=0&&(n+=`; Max-Age=${Math.floor(r.maxAge)}`),r.domain&&(n+=`; Domain=${r.domain}`),r.path&&(n+=`; Path=${r.path}`),r.expires&&(n+=`; Expires=${r.expires.toUTCString()}`),r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite&&(n+=`; SameSite=${r.sameSite}`),r.partitioned&&(n+="; Partitioned"),n},oi=(e,t,r={})=>(t=encodeURIComponent(t),ii(e,t,r)),nn=(e,t)=>{var n;if(!((n=e.callbacks)!=null&&n.length))return Promise.resolve(e);const r=e.callbacks;return t?t[0]+=e:t=[e],Promise.all(r.map(s=>s({buffer:t}))).then(s=>Promise.all(s.map(i=>nn(i,t))).then(()=>t[0]))},ai=class{constructor(e){this.writable=e,this.writer=e.getWriter(),this.encoder=new TextEncoder}async write(e){try{typeof e=="string"&&(e=this.encoder.encode(e)),await this.writer.write(e)}catch{}return this}async writeln(e){return await this.write(e+`
`),this}sleep(e){return new Promise(t=>setTimeout(t,e))}async close(){try{await this.writer.close()}catch{}}async pipe(e){this.writer.releaseLock(),await e.pipeTo(this.writable,{preventClose:!0}),this.writer=this.writable.getWriter()}},sn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},f=(e,t,r)=>(sn(e,t,"read from private field"),r?r.call(e):t.get(e)),xe=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},T=(e,t,r,n)=>(sn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),on="text/plain; charset=UTF-8",Oe,oe,y,v,U,ae,it=class{constructor(e,t){this.env={},this._var={},this.finalized=!1,this.error=void 0,xe(this,Oe,200),xe(this,oe,void 0),xe(this,y,void 0),xe(this,v,void 0),xe(this,U,void 0),xe(this,ae,!0),this.renderer=r=>this.html(r),this.notFoundHandler=()=>new Response,this.render=(...r)=>this.renderer(...r),this.setRenderer=r=>{this.renderer=r},this.header=(r,n,s)=>{if(n===void 0){f(this,y)?f(this,y).delete(r):f(this,v)&&delete f(this,v)[r.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(r);return}s!=null&&s.append?(f(this,y)||(T(this,ae,!1),T(this,y,new Headers(f(this,v))),T(this,v,{})),f(this,y).append(r,n)):f(this,y)?f(this,y).set(r,n):(f(this,v)??T(this,v,{}),f(this,v)[r.toLowerCase()]=n),this.finalized&&(s!=null&&s.append?this.res.headers.append(r,n):this.res.headers.set(r,n))},this.status=r=>{T(this,ae,!1),T(this,Oe,r)},this.set=(r,n)=>{this._var??(this._var={}),this._var[r]=n},this.get=r=>this._var?this._var[r]:void 0,this.newResponse=(r,n,s)=>{if(f(this,ae)&&!s&&!n&&f(this,Oe)===200)return new Response(r,{headers:f(this,v)});n&&typeof n!="number"&&(this.res=new Response(r,n));const i=typeof n=="number"?n:n?n.status:f(this,Oe);f(this,v)??T(this,v,{}),f(this,y)??T(this,y,new Headers);for(const[o,a]of Object.entries(f(this,v)))f(this,y).set(o,a);if(f(this,U)){f(this,U).headers.forEach((o,a)=>{var c;(c=f(this,y))==null||c.set(a,o)});for(const[o,a]of Object.entries(f(this,v)))f(this,y).set(o,a)}s??(s={});for(const[o,a]of Object.entries(s))if(typeof a=="string")f(this,y).set(o,a);else{f(this,y).delete(o);for(const c of a)f(this,y).append(o,c)}return new Response(r,{status:i,headers:f(this,y)})},this.body=(r,n,s)=>typeof n=="number"?this.newResponse(r,n,s):this.newResponse(r,n),this.text=(r,n,s)=>{if(!f(this,v)){if(f(this,ae)&&!s&&!n)return new Response(r);T(this,v,{})}return f(this,v)["content-type"]=on,typeof n=="number"?this.newResponse(r,n,s):this.newResponse(r,n)},this.json=(r,n,s)=>{const i=JSON.stringify(r);return f(this,v)??T(this,v,{}),f(this,v)["content-type"]="application/json; charset=UTF-8",typeof n=="number"?this.newResponse(i,n,s):this.newResponse(i,n)},this.jsonT=(r,n,s)=>this.json(r,n,s),this.html=(r,n,s)=>(f(this,v)??T(this,v,{}),f(this,v)["content-type"]="text/html; charset=UTF-8",typeof r=="object"&&(r instanceof Promise||(r=r.toString()),r instanceof Promise)?r.then(i=>nn(i)).then(i=>typeof n=="number"?this.newResponse(i,n,s):this.newResponse(i,n)):typeof n=="number"?this.newResponse(r,n,s):this.newResponse(r,n)),this.redirect=(r,n=302)=>(f(this,y)??T(this,y,new Headers),f(this,y).set("Location",r),this.newResponse(null,n)),this.streamText=(r,n,s)=>(s??(s={}),this.header("content-type",on),this.header("x-content-type-options","nosniff"),this.header("transfer-encoding","chunked"),this.stream(r,n,s)),this.stream=(r,n,s)=>{const{readable:i,writable:o}=new TransformStream,a=new ai(o);return r(a).finally(()=>a.close()),typeof n=="number"?this.newResponse(i,n,s):this.newResponse(i,n)},this.cookie=(r,n,s)=>{const i=oi(r,n,s);this.header("set-cookie",i,{append:!0})},this.notFound=()=>this.notFoundHandler(this),this.req=e,t&&(T(this,oe,t.executionCtx),this.env=t.env,t.notFoundHandler&&(this.notFoundHandler=t.notFoundHandler))}get event(){if(f(this,oe)&&"respondWith"in f(this,oe))return f(this,oe);throw Error("This context has no FetchEvent")}get executionCtx(){if(f(this,oe))return f(this,oe);throw Error("This context has no ExecutionContext")}get res(){return T(this,ae,!1),f(this,U)||T(this,U,new Response("404 Not Found",{status:404}))}set res(e){T(this,ae,!1),f(this,U)&&e&&(f(this,U).headers.delete("content-type"),f(this,U).headers.forEach((t,r)=>{e.headers.set(r,t)})),T(this,U,e),this.finalized=!0}get var(){return{...this._var}}get runtime(){var t,r;const e=globalThis;return(e==null?void 0:e.Deno)!==void 0?"deno":(e==null?void 0:e.Bun)!==void 0?"bun":typeof(e==null?void 0:e.WebSocketPair)=="function"?"workerd":typeof(e==null?void 0:e.EdgeRuntime)=="string"?"edge-light":(e==null?void 0:e.fastly)!==void 0?"fastly":(e==null?void 0:e.__lagon__)!==void 0?"lagon":((r=(t=e==null?void 0:e.process)==null?void 0:t.release)==null?void 0:r.name)==="node"?"node":"other"}};Oe=new WeakMap,oe=new WeakMap,y=new WeakMap,v=new WeakMap,U=new WeakMap,ae=new WeakMap;var an=(e,t,r)=>(n,s)=>{let i=-1;return o(0);async function o(a){if(a<=i)throw new Error("next() called multiple times");i=a;let c,l=!1,d;if(e[a]?(d=e[a][0][0],n instanceof it&&(n.req.routeIndex=a)):d=a===e.length&&s||void 0,!d)n instanceof it&&n.finalized===!1&&r&&(c=await r(n));else try{c=await d(n,()=>o(a+1))}catch(u){if(u instanceof Error&&n instanceof it&&t)n.error=u,c=await t(u,n),l=!0;else throw u}return c&&(n.finalized===!1||l)&&(n.res=c),n}},ci=class extends Error{constructor(e=500,t){super(t==null?void 0:t.message),this.res=t==null?void 0:t.res,this.status=e}getResponse(){return this.res?this.res:new Response(this.message,{status:this.status})}},li=e=>Array.isArray(e),ui=async(e,t={all:!1})=>{let r={};const n=e.headers.get("Content-Type");if(n&&(n.startsWith("multipart/form-data")||n.startsWith("application/x-www-form-urlencoded"))){const s=await e.formData();if(s){const i={};s.forEach((o,a)=>{if(!(t.all||a.slice(-2)==="[]")){i[a]=o;return}if(i[a]&&li(i[a])){i[a].push(o);return}if(i[a]){i[a]=[i[a],o];return}i[a]=o}),r=i}}return r},cn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},A=(e,t,r)=>(cn(e,t,"read from private field"),r?r.call(e):t.get(e)),ln=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},un=(e,t,r,n)=>(cn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ke,M,di=class{constructor(e,t="/",r=[[]]){ln(this,ke,void 0),ln(this,M,void 0),this.routeIndex=0,this.bodyCache={},this.cachedBody=n=>{const{bodyCache:s,raw:i}=this,o=s[n];return o||(s.arrayBuffer?(async()=>await new Response(s.arrayBuffer)[n]())():s[n]=i[n]())},this.raw=e,this.path=t,un(this,M,r),un(this,ke,{})}param(e){if(e){const t=A(this,M)[1]?A(this,M)[1][A(this,M)[0][this.routeIndex][1][e]]:A(this,M)[0][this.routeIndex][1][e];return t?/\%/.test(t)?st(t):t:void 0}else{const t={},r=Object.keys(A(this,M)[0][this.routeIndex][1]);for(let n=0,s=r.length;n<s;n++){const i=r[n],o=A(this,M)[1]?A(this,M)[1][A(this,M)[0][this.routeIndex][1][i]]:A(this,M)[0][this.routeIndex][1][i];o&&typeof o=="string"&&(t[i]=/\%/.test(o)?st(o):o)}return t}}query(e){return ei(this.url,e)}queries(e){return ti(this.url,e)}header(e){if(e)return this.raw.headers.get(e.toLowerCase())??void 0;const t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}cookie(e){const t=this.raw.headers.get("Cookie");if(!t)return;const r=si(t);return e?r[e]:r}async parseBody(e){if(this.bodyCache.parsedBody)return this.bodyCache.parsedBody;const t=await ui(this,e);return this.bodyCache.parsedBody=t,t}json(){return this.cachedBody("json")}text(){return this.cachedBody("text")}arrayBuffer(){return this.cachedBody("arrayBuffer")}blob(){return this.cachedBody("blob")}formData(){return this.cachedBody("formData")}addValidatedData(e,t){A(this,ke)[e]=t}valid(e){return A(this,ke)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return A(this,M)[0].map(([[,e]])=>e)}get routePath(){return A(this,M)[0].map(([[,e]])=>e)[this.routeIndex].path}get headers(){return this.raw.headers}get body(){return this.raw.body}get bodyUsed(){return this.raw.bodyUsed}get integrity(){return this.raw.integrity}get keepalive(){return this.raw.keepalive}get referrer(){return this.raw.referrer}get signal(){return this.raw.signal}};ke=new WeakMap,M=new WeakMap;var x="ALL",hi="all",dn=["get","post","put","delete","options","patch"],hn="Can not add a route since the matcher is already built.",fn=class extends Error{},pn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ot=(e,t,r)=>(pn(e,t,"read from private field"),r?r.call(e):t.get(e)),fi=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Wt=(e,t,r,n)=>(pn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pi=Symbol("composedHandler");function gi(){return class{}}var mi=e=>e.text("404 Not Found",404),gn=(e,t)=>{if(e instanceof ci)return e.getResponse();console.error(e);const r="Internal Server Error";return t.text(r,500)},Z,mn=class extends gi(){constructor(e={}){super(),this._basePath="/",fi(this,Z,"/"),this.routes=[],this.notFoundHandler=mi,this.errorHandler=gn,this.onError=n=>(this.errorHandler=n,this),this.notFound=n=>(this.notFoundHandler=n,this),this.head=()=>(console.warn("`app.head()` is no longer used. `app.get()` implicitly handles the HEAD method."),this),this.handleEvent=n=>this.dispatch(n.request,n,void 0,n.request.method),this.fetch=(n,s,i)=>this.dispatch(n,i,s,n.method),this.request=(n,s,i,o)=>{if(n instanceof Request)return s!==void 0&&(n=new Request(n,s)),this.fetch(n,i,o);n=n.toString();const a=/^https?:\/\//.test(n)?n:`http://localhost${De("/",n)}`,c=new Request(a,s);return this.fetch(c,i,o)},this.fire=()=>{addEventListener("fetch",n=>{n.respondWith(this.dispatch(n.request,n,void 0,n.request.method))})},[...dn,hi].map(n=>{this[n]=(s,...i)=>(typeof s=="string"?Wt(this,Z,s):this.addRoute(n,ot(this,Z),s),i.map(o=>{typeof o!="string"&&this.addRoute(n,ot(this,Z),o)}),this)}),this.on=(n,s,...i)=>{if(!n)return this;Wt(this,Z,s);for(const o of[n].flat())i.map(a=>{this.addRoute(o.toUpperCase(),ot(this,Z),a)});return this},this.use=(n,...s)=>(typeof n=="string"?Wt(this,Z,n):s.unshift(n),s.map(i=>{this.addRoute(x,ot(this,Z),i)}),this);const r=e.strict??!0;delete e.strict,Object.assign(this,e),this.getPath=r?e.getPath??en:Zs}clone(){const e=new mn({router:this.router,getPath:this.getPath});return e.routes=this.routes,e}route(e,t){const r=this.basePath(e);return t?(t.routes.map(n=>{let s;t.errorHandler===gn?s=n.handler:(s=async(i,o)=>(await an([],t.errorHandler)(i,()=>n.handler(i,o))).res,s[pi]=n.handler),r.addRoute(n.method,n.path,s)}),this):r}basePath(e){const t=this.clone();return t._basePath=De(this._basePath,e),t}showRoutes(){this.routes.map(t=>{console.log(`\x1B[32m${t.method}\x1B[0m ${" ".repeat(8-t.method.length)} ${t.path}`)})}mount(e,t,r){const n=De(this._basePath,e),s=n==="/"?0:n.length,i=async(o,a)=>{let c;try{c=o.executionCtx}catch{}const l=r?r(o):[o.env,c],d=Array.isArray(l)?l:[l],u=Xs(o.req.url),h=await t(new Request(new URL((o.req.path.slice(s)||"/")+u,o.req.url),o.req.raw),...d);if(h)return h;await a()};return this.addRoute(x,De(e,"*"),i),this}get routerName(){return this.matchRoute("GET","/"),this.router.name}addRoute(e,t,r){e=e.toUpperCase(),t=De(this._basePath,t);const n={path:t,method:e,handler:r};this.router.add(e,t,[r,n]),this.routes.push(n)}matchRoute(e,t){return this.router.match(e,t)}handleError(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}dispatch(e,t,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.dispatch(e,t,r,"GET")))();const s=this.getPath(e,{env:r}),i=this.matchRoute(n,s),o=new it(new di(e,s,i),{env:r,executionCtx:t,notFoundHandler:this.notFoundHandler});if(i[0].length===1){let c;try{if(c=i[0][0][0][0](o,async()=>{}),!c)return this.notFoundHandler(o)}catch(l){return this.handleError(l,o)}return c instanceof Response?c:(async()=>{let l;try{if(l=await c,!l)return this.notFoundHandler(o)}catch(d){return this.handleError(d,o)}return l})()}const a=an(i[0],this.errorHandler,this.notFoundHandler);return(async()=>{try{const c=await a(o);if(!c.finalized)throw new Error("Context is not finalized. You may forget returning Response object or `await next()`");return c.res}catch(c){return this.handleError(c,o)}})()}},wi=mn;Z=new WeakMap;var at="[^/]+",Me=".*",Be="(?:|/.*)",Ae=Symbol();function _i(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Me||e===Be?1:t===Me||t===Be?-1:e===at?1:t===at?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var zt=class{constructor(){this.children={}}insert(t,r,n,s,i){if(t.length===0){if(this.index!==void 0)throw Ae;if(i)return;this.index=r;return}const[o,...a]=t,c=o==="*"?a.length===0?["","",Me]:["","",at]:o==="/*"?["","",Be]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let l;if(c){const d=c[1];let u=c[2]||at;if(d&&c[2]&&(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u)))throw Ae;if(l=this.children[u],!l){if(Object.keys(this.children).some(h=>h!==Me&&h!==Be))throw Ae;if(i)return;l=this.children[u]=new zt,d!==""&&(l.varIndex=s.varIndex++)}!i&&d!==""&&n.push([d,l.varIndex])}else if(l=this.children[o],!l){if(Object.keys(this.children).some(d=>d.length>1&&d!==Me&&d!==Be))throw Ae;if(i)return;l=this.children[o]=new zt}l.insert(a,r,n,s,i)}buildRegExpStr(){const r=Object.keys(this.children).sort(_i).map(n=>{const s=this.children[n];return(typeof s.varIndex=="number"?`(${n})@${s.varIndex}`:n)+s.buildRegExpStr()});return typeof this.index=="number"&&r.unshift(`#${this.index}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},vi=class{constructor(){this.context={varIndex:0},this.root=new zt}insert(e,t,r){const n=[],s=[];for(let o=0;;){let a=!1;if(e=e.replace(/\{[^}]+\}/g,c=>{const l=`@\\${o}`;return s[o]=[l,c],o++,a=!0,l}),!a)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=s.length-1;o>=0;o--){const[a]=s[o];for(let c=i.length-1;c>=0;c--)if(i[c].indexOf(a)!==-1){i[c]=i[c].replace(a,s[o][1]);break}}return this.root.insert(i,t,n,this.context,r),n}buildRegExp(){let e=this.root.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,i,o)=>typeof i<"u"?(r[++t]=Number(i),"$()"):(typeof o<"u"&&(n[Number(o)]=++t),"")),[new RegExp(`^${e}`),r,n]}},Ut=[x,...dn].map(e=>e.toUpperCase()),wn=[],yi=[/^$/,[],{}],Kt={};function _n(e){return Kt[e]??(Kt[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*/,"(?:|/.*)")}$`))}function Ei(){Kt={}}function bi(e){var l;const t=new vi,r=[];if(e.length===0)return yi;const n=e.map(d=>[!/\*|\/:/.test(d[0]),...d]).sort(([d,u],[h,p])=>d?1:h?-1:u.length-p.length),s={};for(let d=0,u=-1,h=n.length;d<h;d++){const[p,_,w]=n[d];p?s[_]=[w.map(([N])=>[N,{}]),wn]:u++;let S;try{S=t.insert(_,u,p)}catch(N){throw N===Ae?new fn(_):N}p||(r[u]=w.map(([N,B])=>{const G={};for(B-=1;B>=0;B--){const[R,ce]=S[B];G[R]=ce}return[N,G]}))}const[i,o,a]=t.buildRegExp();for(let d=0,u=r.length;d<u;d++)for(let h=0,p=r[d].length;h<p;h++){const _=(l=r[d][h])==null?void 0:l[1];if(!_)continue;const w=Object.keys(_);for(let S=0,N=w.length;S<N;S++)_[w[S]]=a[_[w[S]]]}const c=[];for(const d in o)c[d]=r[o[d]];return[i,c,s]}function Ne(e,t){if(e){for(const r of Object.keys(e).sort((n,s)=>s.length-n.length))if(_n(r).test(t))return[...e[r]]}}var xi=class{constructor(){this.name="RegExpRouter",this.middleware={[x]:{}},this.routes={[x]:{}}}add(e,t,r){var n;const{middleware:s,routes:i}=this;if(!s||!i)throw new Error(hn);Ut.indexOf(e)===-1&&Ut.push(e),s[e]||[s,i].forEach(c=>{c[e]={},Object.keys(c[x]).forEach(l=>{c[e][l]=[...c[x][l]]})}),t==="/*"&&(t="*");const o=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const c=_n(t);e===x?Object.keys(s).forEach(l=>{var d;(d=s[l])[t]||(d[t]=Ne(s[l],t)||Ne(s[x],t)||[])}):(n=s[e])[t]||(n[t]=Ne(s[e],t)||Ne(s[x],t)||[]),Object.keys(s).forEach(l=>{(e===x||e===l)&&Object.keys(s[l]).forEach(d=>{c.test(d)&&s[l][d].push([r,o])})}),Object.keys(i).forEach(l=>{(e===x||e===l)&&Object.keys(i[l]).forEach(d=>c.test(d)&&i[l][d].push([r,o]))});return}const a=tn(t)||[t];for(let c=0,l=a.length;c<l;c++){const d=a[c];Object.keys(i).forEach(u=>{var h;(e===x||e===u)&&((h=i[u])[d]||(h[d]=[...Ne(s[u],d)||Ne(s[x],d)||[]]),i[u][d].push([r,a.length===2&&c===0?o-1:o]))})}}match(e,t){Ei();const r=this.buildAllMatchers();return this.match=(n,s)=>{const i=r[n],o=i[2][s];if(o)return o;const a=s.match(i[0]);if(!a)return[[],wn];const c=a.indexOf("",1);return[i[1][c],a]},this.match(e,t)}buildAllMatchers(){const e={};return Ut.forEach(t=>{e[t]=this.buildMatcher(t)||e[x]}),this.middleware=this.routes=void 0,e}buildMatcher(e){const t=[];let r=e===x;return[this.middleware,this.routes].forEach(n=>{const s=n[e]?Object.keys(n[e]).map(i=>[i,n[e][i]]):[];s.length!==0?(r||(r=!0),t.push(...s)):e!==x&&t.push(...Object.keys(n[x]).map(i=>[i,n[x][i]]))}),r?bi(t):null}},Ni=class{constructor(e){this.name="SmartRouter",this.routers=[],this.routes=[],Object.assign(this,e)}add(e,t,r){if(!this.routes)throw new Error(hn);this.routes.push([e,t,r])}match(e,t){if(!this.routes)throw new Error("Fatal error");const{routers:r,routes:n}=this,s=r.length;let i=0,o;for(;i<s;i++){const a=r[i];try{n.forEach(c=>{a.add(...c)}),o=a.match(e,t)}catch(c){if(c instanceof fn)continue;throw c}this.match=a.match.bind(a),this.routers=[a],this.routes=void 0;break}if(i===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(this.routes||this.routers.length!==1)throw new Error("No active router has been determined yet.");return this.routers[0]}},vn=class{constructor(e,t,r){if(this.order=0,this.params={},this.children=r||{},this.methods=[],this.name="",e&&t){const n={};n[e]={handler:t,possibleKeys:[],score:0,name:this.name},this.methods=[n]}this.patterns=[]}insert(e,t,r){this.name=`${e} ${t}`,this.order=++this.order;let n=this;const s=Qs(t),i=[],o=[];for(let l=0,d=s.length;l<d;l++){const u=s[l];if(Object.keys(n.children).includes(u)){o.push(...n.patterns),n=n.children[u];const p=Zr(u);p&&i.push(p[1]);continue}n.children[u]=new vn;const h=Zr(u);h&&(n.patterns.push(h),o.push(...n.patterns),i.push(h[1])),o.push(...n.patterns),n=n.children[u]}n.methods.length||(n.methods=[]);const a={},c={handler:r,possibleKeys:i,name:this.name,score:this.order};return a[e]=c,n.methods.push(a),n}gHSets(e,t,r){const n=[];for(let s=0,i=e.methods.length;s<i;s++){const o=e.methods[s],a=o[t]||o[x];a!==void 0&&(a.params={},a.possibleKeys.map(c=>{a.params[c]=r[c]}),n.push(a))}return n}search(e,t){const r=[],n={};this.params={};let i=[this];const o=Ys(t);for(let c=0,l=o.length;c<l;c++){const d=o[c],u=c===l-1,h=[];for(let p=0,_=i.length;p<_;p++){const w=i[p],S=w.children[d];S&&(S.params=w.params,u===!0?(S.children["*"]&&r.push(...this.gHSets(S.children["*"],e,w.params)),r.push(...this.gHSets(S,e,w.params))):h.push(S));for(let N=0,B=w.patterns.length;N<B;N++){const G=w.patterns[N];if(G==="*"){const Jt=w.children["*"];Jt&&(r.push(...this.gHSets(Jt,e,w.params)),h.push(Jt));continue}if(d==="")continue;const[R,ce,m]=G,J=w.children[R],ct=o.slice(c).join("/");if(m instanceof RegExp&&m.test(ct)){n[ce]=ct,r.push(...this.gHSets(J,e,{...n,...w.params}));continue}(m===!0||m instanceof RegExp&&m.test(d))&&typeof R=="string"&&(n[ce]=d,u===!0?(r.push(...this.gHSets(J,e,{...n,...w.params})),J.children["*"]&&r.push(...this.gHSets(J.children["*"],e,{...n,...w.params}))):(J.params={...n},h.push(J)))}}i=h}return[r.sort((c,l)=>c.score-l.score).map(({handler:c,params:l})=>[c,l])]}},$i=class{constructor(){this.name="TrieRouter",this.node=new vn}add(e,t,r){const n=tn(t);if(n){for(const s of n)this.node.insert(e,s,r);return}this.node.insert(e,t,r)}match(e,t){return this.node.search(e,t)}},yn=class extends wi{constructor(e={}){super(e),this.router=e.router??new Ni({routers:[new xi,new $i]})}};async function Ri(e,t){var s,i,o;let r="";if(t!=null&&t.siyuanPrefix)r=t.siyuanPrefix;else for(let a=0;a<e.level;a++)r+="../";const n="2.10.5";return`<!DOCTYPE html>
<html lang="zh_CN" data-theme-mode="light" data-light-theme="daylight" data-dark-theme="midnight">
<head>
  ${((s=t==null?void 0:t.embedCode)==null?void 0:s.head)??""}
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="stylesheet" type="text/css" id="baseStyle" href="${r}stage/build/export/base.css?${n}"/>
  <script>
  function isNightTime() {
    const currentHour = new Date().getHours();
    return currentHour >= 18 || currentHour < 6;
  }
  document.write('<link rel="stylesheet" type="text/css" id="themeDefaultStyle" href="${r}appearance/themes/'+(isNightTime()?'midnight':'daylight')+'/theme.css?${n}"/>');
  <\/script>
  <link rel="stylesheet" type="text/css" href="${r}appearance/oceanpress.css"/>
  <title>${e.title}</title>
</head>
<body>
  ${((i=t==null?void 0:t.embedCode)==null?void 0:i.beforeBody)??""}
  <div class="protyle-wysiwyg protyle-wysiwyg--attr" id="preview">
  ${e.htmlContent}
  </div>
  <script src="${r}appearance/icons/material/icon.js?${n}"><\/script>
  <script src="${r}stage/build/export/protyle-method.js?${n}"><\/script>
  <script src="${r}stage/protyle/js/lute/lute.min.js?${n}"><\/script>
  <script>
    window.siyuan = {
      config: {
        appearance: {
          mode: isNightTime()?1:0,//主题 明亮=0 暗黑=1
          codeBlockThemeDark: "base16/dracula",
          codeBlockThemeLight: "github",
        },
        editor: {
          codeLineWrap: true,
          codeLigatures: false,
          plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
          codeSyntaxHighlightLineNum: true,
          katexMacros: JSON.stringify({}),
        },
      },
      languages: { copy: "复制" },
    };
    const cdn = "${r}stage/protyle";
    const previewElement = document.getElementById("preview");

    Protyle.highlightRender(previewElement, cdn);
    Protyle.mathRender(previewElement, cdn, false);
    Protyle.mermaidRender(previewElement, cdn);
    Protyle.flowchartRender(previewElement, cdn);
    Protyle.graphvizRender(previewElement, cdn);
    Protyle.chartRender(previewElement, cdn);
    Protyle.mindmapRender(previewElement, cdn);
    Protyle.abcRender(previewElement, cdn);
    Protyle.htmlRender(previewElement);
    Protyle.plantumlRender(previewElement, cdn);
    document.querySelectorAll(".protyle-action__copy").forEach((item) => {
      item.addEventListener("click", (event) => {
        navigator.clipboard.writeText(
          item.parentElement.nextElementSibling.textContent.trimEnd(),
        );
        event.preventDefault();
        event.stopPropagation();
      });
    });
  <\/script>
  ${((o=t==null?void 0:t.embedCode)==null?void 0:o.afterBody)??""}
</body>
</html>`}function Si(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos")}function En(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#(\d+);/g,(t,r)=>String.fromCharCode(Number(r)))}async function K(e,t=Ti()){var n,s;if(e===void 0)return"";const r={...t,nodeStack:[...t.nodeStack]};if(t.nodeStack.find(i=>i.ID&&e.ID&&i.ID===e.ID))return He("循环引用",[...t.nodeStack,e].map(i=>i.ID));if(r[e.Type]===void 0)return He(`没有找到对应的渲染器 ${e.Type}  ${(n=r.nodeStack[0].Properties)==null?void 0:n.title}`);{if(r.nodeStack.push(e),e.ID&&((s=t.nodeStack[0])!=null&&s.ID)){const o=await E.getDocByChildID(e.ID),a=t.nodeStack[0];(o==null?void 0:o.ID)!==void 0&&o.ID!==a.ID&&a.ID&&r.refs.add(o.ID)}const i=await r[e.Type](e);return r.nodeStack.pop(),i}}function He(e,...t){return Le(e,...t),`<div class="ft__smaller ft__secondary b3-form__space--small">${e}</div>`}function bn(e){var r,n;const t=atob(e.CodeBlockInfo??((n=(r=e.Children)==null?void 0:r.find(s=>s.Type==="NodeCodeBlockFenceInfoMarker"))==null?void 0:n.CodeBlockInfo)??"");return[["mindmap","mermaid","echarts","abc","graphviz","flowchart","plantuml"].includes(t),t]}const me=String.raw;async function L(e,t){let r="";for await(const n of(e==null?void 0:e.Children)??[])r+=await K(n,t);return r}function $(e,t={}){var s,i,o,a,c;(t==null?void 0:t.subtype_class)===void 0&&(t.subtype_class=(()=>{var d,u;const l=((d=e.ListData)==null?void 0:d.Typ)===1?"o":((u=e.ListData)==null?void 0:u.Typ)===3?"t":"u";if(e.Type==="NodeDocument")return"h1";if(e.Type==="NodeHeading")return`h${e.HeadingLevel}`;if(e.Type==="NodeList")return[l,"list"];if(e.Type==="NodeListItem")return[l,"li"];if(e.Type==="NodeParagraph")return["","p"];if(e.Type==="NodeImage")return["","img"];if(e.Type==="NodeBlockquote")return["","bq"];if(e.Type==="NodeSuperBlock")return["","sb"];if(e.Type==="NodeCodeBlock"){const[h,p]=bn(e);return h?[p,"render-node"]:["","code-block"]}else return e.Type==="NodeTable"?["","table"]:e.Type==="NodeThematicBreak"?["","hr"]:e.Type==="NodeMathBlock"?["math","render-node"]:e.Type==="NodeIFrame"?["","iframe"]:e.Type==="NodeVideo"?["","iframe"]:""})());const r={};function n(l,d){r[l]=d}return e.ID&&(n("id",e.ID),n("data-node-id",e.ID)),(e==null?void 0:e.TextMarkType)==="tag"?n("data-type",e.TextMarkType??""):n("data-type",(t==null?void 0:t.data_type)??e.Type),(s=e.Properties)!=null&&s.updated&&n("updated",e.Properties.updated),t!=null&&t.subtype_class&&(typeof t.subtype_class=="string"?(n("data-subtype",t.subtype_class),n("class",t.subtype_class)):(t.subtype_class[0]!==""&&n("data-subtype",t.subtype_class[0]),t.subtype_class[1]!==""&&n("class",t.subtype_class[1]))),e.Properties&&Object.entries(e.Properties).forEach(([l,d])=>n(l,d)),(i=e.ListData)!=null&&i.Marker&&n("data-marker",atob(e.ListData.Marker)),((o=e.ListData)==null?void 0:o.Typ)===3&&((c=(a=e.Children)==null?void 0:a.find(l=>l.Type==="NodeTaskListItemMarker"))!=null&&c.TaskListItemChecked)&&(r.class=(r.class??"")+" protyle-task--done "),delete r.fold,e.Type==="NodeDocument"&&delete r.title,Object.entries(r).map(([l,d])=>`${l}="${d}"`).join(" ")}const H=async e=>"",Gt=async e=>e.Data??"",Ti=()=>({...Pi,nodeStack:[],refs:new Set}),Pi={nodeStack:[],refs:new Set,async getTopPathPrefix(){const e=this.nodeStack[0];let t=".";if(e.Type==="NodeDocument"&&e.ID){const r=await E.getDocPathBySY(e);if(r){const n=r.split("/").length-3;for(let s=0;s<n;s++)t+="/.."}return t}else return console.log("未定义顶层元素非 NodeDocument 时的处理方式",e),""},async NodeDocument(e){var r,n,s,i,o;let t="";return this.nodeStack.length===1&&(t+=`<div style="min-height: 150px;" ${$(e)}>`,(r=e.Properties)!=null&&r["title-img"]&&(t+=`<div class="protyle-background__img" style="margin-bottom: 30px;position: relative;height: 16vh;${(n=e.Properties)==null?void 0:n["title-img"]}"/>${(s=e.Properties)!=null&&s.icon?`<div style="position: absolute;bottom:-10px;left:15px;height: 80px;width: 80px;transition: var(--b3-transition);cursor: pointer;font-size: 68px;line-height: 80px;text-align: center;font-family: var(--b3-font-family-emoji);margin-right: 16px;"> &#x${(i=e.Properties)==null?void 0:i.icon} </div>`:""}</div>`),t+="</div>",t+=`<div ${$(e)} data-type="NodeHeading" class="h1">${(o=e.Properties)==null?void 0:o.title}</div>`),t+=await L(e,this),t},async NodeHeading(e){let t=`<div ${$(e)}><div>${await L(e,this)}</div></div>`;const r=this.nodeStack[this.nodeStack.length-2];if((r==null?void 0:r.Type)==="NodeBlockQueryEmbedScript"){let n=!1;for(const s of e.Parent.Children??[])s===e?n=!0:s!==e&&s.Type==="NodeHeading"?n=!1:n&&(t+=`
`+await K(s,this))}return t},NodeText:Gt,async NodeList(e){return me`<div ${$(e)}>${await L(e,this)}</div>`},async NodeListItem(e){var t,r,n,s,i;return me`<div ${await $(e)}>
      <div class="protyle-action">
        ${((t=e.ListData)==null?void 0:t.Typ)===1?atob(((r=e.ListData)==null?void 0:r.Marker)??""):((n=e.ListData)==null?void 0:n.Typ)===3?`<svg><use xlink:href="#${(i=(s=e.Children)==null?void 0:s.find(o=>o.Type==="NodeTaskListItemMarker"))!=null&&i.TaskListItemChecked?"iconCheck":"iconUncheck"}"></use></svg>`:'<svg><use xlink:href="#iconDot"></use></svg>'}
      </div>
      ${await L(e,this)}
    </div>`},NodeTaskListItemMarker:H,async NodeParagraph(e){return me`<div ${$(e)}>${await L(e,this)}</div>`},async NodeTextMark(e){var s;const t=this;let r="";for(const i of(((s=e.TextMarkType)==null?void 0:s.split(" "))??[]).reverse())r===""?r=await n(e,i,e.TextMarkTextContent??""):r=await n(e,i,r);return r;async function n(i,o,a){var c;if(o==="inline-math")return`<span data-type="inline-math" data-subtype="math" data-content="${i.TextMarkInlineMathContent}" class="render-node"></span>`;if(o==="inline-memo")return`${a}<sup>（${i.TextMarkInlineMemoContent}）</sup>`;if(o==="block-ref"){let l="";if(i.TextMarkBlockRefID){const d=await E.getDocByChildID(i.TextMarkBlockRefID);d!=null&&d.ID?(l=`${await t.getTopPathPrefix()}${await E.getHPathByID_Node(d)}.html#${i.TextMarkBlockRefID}`,t.refs.add(d.ID)):Le("未查找到所指向的文档节点",i)}else Le("未查找到所指向的文档节点",i);return`<span data-type="${i.TextMarkType}"     data-subtype="${i.TextMarkBlockRefSubtype}"     data-id="${i.TextMarkBlockRefID}">
          <a href="${l}">${a}</a>
  </span>`}else if(o==="a"){let l=i.TextMarkAHref;return l!=null&&l.startsWith("assets/")&&(l=`${await t.getTopPathPrefix()}/${l}`),`<a href="${l}">${a}</a>`}else return"strong em u s mark sup sub kbd tag code strong code text".includes(o??"")?`<span ${$(i,{data_type:o})}>${a}</span>`:He(`没有找到对应的渲染器 ${i.TextMarkType}  ${(c=t.nodeStack[0].Properties)==null?void 0:c.title}`)}},async NodeImage(e){var i,o,a,c;let t="";const r=(i=e.Children)==null?void 0:i.filter(l=>l.Type==="NodeLinkDest");(r==null?void 0:r.length)===1?t=await K(r[0],this):r!=null&&r.length&&r.length>1&&Le("NodeImage 存在多个 LinkDest",e);let n="";const s=(o=e.Children)==null?void 0:o.filter(l=>l.Type==="NodeLinkTitle");return(s==null?void 0:s.length)===1?n=await K(s[0],this):s!=null&&s.length&&s.length>1&&Le("NodeImage 存在多个 LinkTitle",e),me`<span ${await $(e)} style="${(a=e.Properties)==null?void 0:a["parent-style"]}"
      ><img
        src="${t}"
        data-src="${t}"
        title="${n}"
        style="${(c=e.Properties)==null?void 0:c.style}"
        loading="lazy"
      /><span class="protyle-action__title">${n}</span></span
    >`},async NodeLinkDest(e){return/^(?:[a-z]+:)?\/\/|^(?:\/)/.test(e.Data??"")?e.Data??"":`${await this.getTopPathPrefix()}/${e.Data}`},NodeLinkTitle:Gt,NodeKramdownSpanIAL:H,async NodeSuperBlock(e){return me`<div
      ${$(e)}
      data-sb-layout="${xn(e,"NodeSuperBlockLayoutMarker")}"
    >
      ${await L(e,this)}
    </div>`},NodeSuperBlockOpenMarker:H,NodeSuperBlockCloseMarker:H,NodeSuperBlockLayoutMarker:H,async NodeBlockQueryEmbed(e){return`<div ${$(e)} data-type="NodeBlockquote" class="bq">${await L(e,this)}</div>`},NodeOpenBrace:H,NodeCloseBrace:H,async NodeBlockQueryEmbedScript(e){const t=e.Data;if(!t)return console.log("no sql",e),me`<pre>${t}</pre>`;let r="";const n=await Vt.query_sql({stmt:En(t).replace(/_esc_newline_/g,`
`)}).catch(s=>{throw new Error(`sql error: ${s.message}
rawSql:${t}
unescapingSql:${En(t)}`)});for(const s of n){const i=await E.getNodeByID(s.id);if(i===void 0)return He("跨笔记引用",s.id,t,i);r+=await K(i,this)}return r},async NodeBlockquote(e){return me`<div ${$(e)}>${await L(e,this)}</div>`},NodeBlockquoteMarker:H,NodeCodeBlock:async e=>{var n,s,i,o;const[t,r]=bn(e);return t?`<div ${$(e)} data-content="${Si(((s=(n=e.Children)==null?void 0:n.find(a=>a.Type==="NodeCodeBlockCode"))==null?void 0:s.Data)??"")}">
        <div spin="1"></div>
        <div class="protyle-attr" contenteditable="false"></div>
      </div>`:`<div ${$(e)}>
        <div class="protyle-action">
          <span class="protyle-action--first protyle-action__language">${await K((i=e.Children)==null?void 0:i.find(a=>a.Type==="NodeCodeBlockFenceInfoMarker"),void 0)}</span>
          <span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span>
        </div>
        ${await K((o=e.Children)==null?void 0:o.find(a=>a.Type==="NodeCodeBlockCode"),void 0)}
      </div>`},NodeCodeBlockFenceInfoMarker:async e=>atob(e.CodeBlockInfo??""),NodeCodeBlockCode:async e=>`<div class="hljs" spellcheck="false">${e.Data}</div>`,NodeCodeBlockFenceOpenMarker:H,NodeCodeBlockFenceCloseMarker:H,async NodeTable(e){var t,r,n;return`<div ${$(e)}>
    <div>
      <table spellcheck="false">
        <colgroup>
        ${(t=e.TableAligns)==null?void 0:t.map(()=>"<col />").join("")}
        </colgroup>
        ${await K((r=e.Children)==null?void 0:r.find(s=>s.Type==="NodeTableHead"),this)}
        <tbody>
        ${(await Promise.all(((n=e.Children)==null?void 0:n.filter(s=>s.Type==="NodeTableRow").map(s=>K(s,this)))??[])).join(`
`)}
        </tbody>
      </table>
    </div>
  </div>`},async NodeTableHead(e){return`<${e.Data}>${await L(e,this)}</${e.Data}>`},async NodeTableRow(e){return`<tr>${await L(e,this)}</tr>`},async NodeTableCell(e){return`<td>${await L(e,this)}</td>`},NodeHTMLBlock:async e=>`<div ${$(e)}>${e.Data}</div>`,NodeThematicBreak:async e=>`<div ${$(e)}><div></div></div>`,NodeMathBlock:async e=>`<div ${$(e)} data-content="${xn(e,"NodeMathBlockContent")}">
    <div spin="1"></div>
  </div>`,NodeMathBlockOpenMarker:H,NodeMathBlockCloseMarker:H,async NodeIFrame(e){var t;return` <div ${$(e)}>
    <div class="iframe-content">
    ${(t=e.Data)==null?void 0:t.replace(/src="assets\//,`src="${await this.getTopPathPrefix()}/assets/`)}
    </div>
  </div>`},async NodeVideo(e){return await this.NodeIFrame(e)},async NodeAudio(e){return await this.NodeIFrame(e)},NodeHeadingC8hMarker:H,async NodeSoftBreak(e){return"​"},async NodeBr(e){return`<${e.Data}>`},async NodeWidget(e){return`<div ${$(e)}><img src="${await this.getTopPathPrefix()}/assets/widget/${e.ID}.jpg"/></div>`},async NodeBackslash(e){var t;return e.Data===void 0||e.Data==="span"?`${await L(e,this)}`:He(`未定义的 NodeBackslash 处理 ${e.Data}`,(t=this.nodeStack[0].Properties)==null?void 0:t.title)},NodeBackslashContent:Gt};function xn(e,t){var r,n;return(n=(r=e.Children)==null?void 0:r.find(s=>s.Type===t))==null?void 0:n.Data}function Le(...e){console.warn(`
`,...e)}function Ci(){const e=new yn;return e.use(async(t,r)=>{console.log("请求到达");try{await r()}catch(n){console.log(n)}}),e.get("/",t=>t.redirect("/index.html")),e.get("/assets/*",async t=>{const r=t.req.path,n=await fetch(`${ge.value.apiPrefix}${r}`,{headers:{Authorization:`Token ${ge.value.authorized}`},method:"GET"});return n.body?t.stream(async s=>{const i=n.body.getReader();for(console.log(r);;){const o=await i.read();if(o.done){s.close();break}else s.write(o.value)}},200,{"content-type":n.headers.get("content-type")}):t.text("Not Found",404,{"Content-Type":"text/plain"})}),e.get("*",async t=>{const r=decodeURIComponent(t.req.path),n=await Ii(r).catch(s=>(console.log("err"),s.message));if(n instanceof Error)throw n;return t.html(n)}),e}async function Ii(e){var n;const t=decodeURIComponent(e).replace(/\#(.*)?$/,"").replace(/\.html$/,"");console.log(ge.value);const r=await Jr(t);return await Ri({title:((n=r.Properties)==null?void 0:n.title)||"",htmlContent:await K(r),level:e.split("/").length-1},{...ge.value.cdn,embedCode:ge.value.embedCode})}E.getItem=$n,E.setItem=Nn,Gs(!1);function Nn(e,t){console.log(e)}function $n(e){}const Di=Ci(),Ve=new yn;return Ve.use("*",async(e,t)=>{await t()}),Ve.post("/preview/page/configs",async e=>{const t=await e.req.json();return console.log("接收配置文件完毕",t),qr(t),e.json({ok:!0})}),Ve.get("/preview/page/*",async e=>{const t=e.req.path.substring(13);return Di.request(t)}),Ve.notFound(async e=>fetch(e.req.raw)),Ve.fire(),self.addEventListener("install",e=>{console.log("Service Worker installed:",e)}),F.getItem=$n,F.setItem=Nn,Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}),F}({});
