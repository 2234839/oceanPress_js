<!DOCTYPE html>
    <html lang="zh_CN" data-theme-mode="light" data-light-theme="daylight" data-dark-theme="midnight">
      <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <link rel="stylesheet" type="text/css" id="baseStyle" href="../../stage/build/export/base.css?2.10.5" />
        <link
          rel="stylesheet"
          type="text/css"
          id="themeDefaultStyle"
          href="../../appearance/themes/daylight/theme.css?2.10.5"
        />

        <title>工作空间</title>
        <style>
          body {
            background-color: var(--b3-theme-background);
            color: var(--b3-theme-on-background);
          }
          .b3-typography,
          .protyle-wysiwyg,
          .protyle-title {
            font-size: 16px !important;
          }
          .b3-typography code:not(.hljs),
          .protyle-wysiwyg span[data-type~="code"] {
            font-variant-ligatures: normal;
          }
          .li > .protyle-action {
            height: 34px;
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h1,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h2,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h3,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h4,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h5,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h6 {
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action:after {
            height: 16px;
            width: 16px;
            margin: -8px 0 0 -8px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action svg {
            height: 14px;
          }
          .protyle-wysiwyg [data-node-id].li:before {
            height: calc(100% - 34px);
            top: 34px;
          }
          .protyle-wysiwyg [data-node-id] [spellcheck] {
            min-height: 26px;
          }
          .protyle-wysiwyg [data-node-id] {
          }
          .protyle-wysiwyg .li {
            min-height: 34px;
          }
          .protyle-gutters button svg {
            height: 26px;
          }
          .protyle-wysiwyg img.emoji,
          .b3-typography img.emoji {
            width: 18px;
          }
          .protyle-wysiwyg .h1 img.emoji,
          .b3-typography h1 img.emoji {
            width: 35px;
          }
          .protyle-wysiwyg .h2 img.emoji,
          .b3-typography h2 img.emoji {
            width: 31px;
          }
          .protyle-wysiwyg .h3 img.emoji,
          .b3-typography h3 img.emoji {
            width: 27px;
          }
          .protyle-wysiwyg .h4 img.emoji,
          .b3-typography h4 img.emoji {
            width: 25px;
          }
          .protyle-wysiwyg .h5 img.emoji,
          .b3-typography h5 img.emoji {
            width: 22px;
          }
          .protyle-wysiwyg .h6 img.emoji,
          .b3-typography h6 img.emoji {
            width: 20px;
          }
        </style>
      </head>
      <body>
        <div class="protyle-wysiwyg protyle-wysiwyg--attr" style="max-width: 800px;margin: 0 auto;" id="preview">
          <div data-subtype="h1" data-node-id="20230106101434-e6g4av3" data-type="NodeHeading" class="h1" id="20230106101434-e6g4av3" title="工作空间" updated="20230117000600"><div contenteditable="false" spellcheck="false">工作空间</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230106101434-otjrwff" data-type="NodeHeading" class="h2" id="20230106101434-otjrwff" updated="20230106102148"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230106102148-fhchfw0" data-type="NodeParagraph" class="p" id="20230106102148-fhchfw0" updated="20230106103611"><div contenteditable="false" spellcheck="false">工作空间用于保存数据、历史、配置和运行时所需要的文件。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230106102403-hass9ht" data-type="NodeList" class="list" id="20230106102403-hass9ht" updated="20230106102404"><div data-marker="*" data-subtype="u" data-node-id="20230106102404-3sbp4dm" data-type="NodeListItem" class="li" id="20230106102404-3sbp4dm" updated="20230106102404"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106102404-herwk9b" data-type="NodeParagraph" class="p" id="20230106102404-herwk9b" updated="20230106102404"><div contenteditable="false" spellcheck="false">不同工作空间通过文件系统文件夹相互隔离</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230106102409-dkh9txo" data-type="NodeListItem" class="li" id="20230106102409-dkh9txo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106102409-rwz43qi" data-type="NodeParagraph" class="p" id="20230106102409-rwz43qi" updated="20230106102430"><div contenteditable="false" spellcheck="false">一个工作空间只能被一个内核进程伺服</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230109113547-eg7zbrh" data-type="NodeHeading" class="h2" updated="20230109113551" id="20230109113547-eg7zbrh"><div contenteditable="false" spellcheck="false">切换工作空间</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230106104300-j6nj9t2" data-type="NodeList" class="list" id="20230106104300-j6nj9t2" updated="20230117000600"><div data-marker="*" data-subtype="u" data-node-id="20230109113554-izjti9n" data-type="NodeListItem" class="li" id="20230109113554-izjti9n" updated="20230117000600"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230109113554-4ie5f15" data-type="NodeParagraph" class="p" updated="20230109113624" id="20230109113554-4ie5f15"><div contenteditable="false" spellcheck="false">桌面端可以在顶栏左侧下拉菜单中打开多个工作空间</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230109113909-5dp3vml" data-type="NodeParagraph" class="p" id="20230109113909-5dp3vml" updated="20230117000600"><div contenteditable="false" spellcheck="false">如果你的多个工作空间需要经常启动，可以考虑为每个工作空间创建不同的启动入口并指定启动参数 <span data-type="code">--workspace=工作空间绝对路径</span>​。比如 Windows 系统上可以复制多个快捷方式，并在每个快捷方式 - 属性 - 目标后跟随工作空间路径参数，例如 <span data-type="code">--workspace=F:\SiYuan</span>​。除此以外，还可以通过 <span data-type="code">--port=12345</span>​ 来指定内核监听的端口。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230109113624-du5o3e3" data-type="NodeListItem" class="li" id="20230109113624-du5o3e3" updated="20230109113641"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230109113624-zjqzh5l" data-type="NodeParagraph" class="p" updated="20230109113641" id="20230109113624-zjqzh5l"><div contenteditable="false" spellcheck="false">移动端可以在右侧栏 <span data-type="kbd">关于</span>​​ 中切换不同的工作空间</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230106104118-wtvw42w" data-type="NodeHeading" class="h2" id="20230106104118-wtvw42w" updated="20230106104127"><div contenteditable="false" spellcheck="false">文件系统结构</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230106103624-ueba648" data-type="NodeParagraph" class="p" id="20230106103624-ueba648" updated="20230106103649"><div contenteditable="false" spellcheck="false">文件系统上工作空间下的结构：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230106103650-61q8v8i" data-type="NodeList" class="list" id="20230106103650-61q8v8i" updated="20230106104112"><div data-marker="*" data-subtype="u" data-node-id="20230106103705-pkx4x41" data-type="NodeListItem" class="li" id="20230106103705-pkx4x41" updated="20230106103705"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106103705-00g0plf" data-type="NodeParagraph" class="p" id="20230106103705-00g0plf" updated="20230106103718"><div contenteditable="false" spellcheck="false">​<span data-type="code">conf</span>​ 用于保存工作空间配置</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230106103718-oib4hy1" data-type="NodeListItem" class="li" id="20230106103718-oib4hy1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106103718-0adtij4" data-type="NodeParagraph" class="p" id="20230106103718-0adtij4" updated="20230106103744"><div contenteditable="false" spellcheck="false">​<span data-type="code">corrupted</span>​ 用于保存已经损坏的数据文件</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230106103744-8u9ew8y" data-type="NodeListItem" class="li" id="20230106103744-8u9ew8y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106103744-93cbakm" data-type="NodeParagraph" class="p" id="20230106103744-93cbakm" updated="20230106103930"><div contenteditable="false" spellcheck="false">​<span data-type="code">data</span>​ 用于保存数据，具体结构请参考这里<sup class="footnotes-ref" id="footnotes-ref-1"><a href="#footnotes-def-1">1</a></sup></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230106103839-9csp7l8" data-type="NodeListItem" class="li" id="20230106103839-9csp7l8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106103839-0pp1p1g" data-type="NodeParagraph" class="p" id="20230106103839-0pp1p1g" updated="20230106103951"><div contenteditable="false" spellcheck="false">​<span data-type="code">history</span>​ 用于保存文件历史</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230106103948-9qgwhg5" data-type="NodeListItem" class="li" id="20230106103948-9qgwhg5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106103948-dp7uyzl" data-type="NodeParagraph" class="p" id="20230106103948-dp7uyzl" updated="20230106104007"><div contenteditable="false" spellcheck="false">​<span data-type="code">repo</span>​ 用于保存数据仓库数据</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230106104007-r35r46f" data-type="NodeListItem" class="li" id="20230106104007-r35r46f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106104007-y85brhy" data-type="NodeParagraph" class="p" id="20230106104007-y85brhy" updated="20230106104035"><div contenteditable="false" spellcheck="false">​<span data-type="code">temp</span>​ 用于保存运行时所需的临时文件</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230106104045-554cvut" data-type="NodeListItem" class="li" id="20230106104045-554cvut" updated="20230106104112"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230106104045-in5r3ot" data-type="NodeParagraph" class="p" id="20230106104045-in5r3ot" updated="20230106104112"><div contenteditable="false" spellcheck="false">​<span data-type="code">.lock</span>​ 内核进程启动后会创建该文件，用于锁定工作空间</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="footnotes-defs-div"><hr class="footnotes-defs-hr" />
<ol class="footnotes-defs-ol"><li><div data-subtype="u" data-node-id="20210428213927-rbcfx2y" data-type="NodeList" class="list" id="20210428213927-rbcfx2y" updated="20230622164014"><span id="footnotes-def-1"></span><div data-marker="*" data-subtype="u" data-node-id="20210428213928-dft58ey" data-type="NodeListItem" class="li" id="20210428213928-dft58ey" updated="20230622163958"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210428213928-3lwnco5" data-type="NodeParagraph" class="p" updated="20230622163958" id="20210428213928-3lwnco5"><div contenteditable="false" spellcheck="false">​<span data-type="code">assets</span>​ 用于保存所有插入的资源文件<sup class="footnotes-ref" id="footnotes-ref-2"><a href="#footnotes-def-2">2</a></sup></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20221202214520-u96zbhq" data-type="NodeListItem" class="li" id="20221202214520-u96zbhq" updated="20230622164002"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221202214520-k8zqbno" data-type="NodeParagraph" class="p" id="20221202214520-k8zqbno" updated="20230622164002"><div contenteditable="false" spellcheck="false">​<span data-type="code">emojis</span>​ 用于保存自定义图标表情图片</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20221202214533-6s8dyno" data-type="NodeListItem" class="li" id="20221202214533-6s8dyno" updated="20230622164005"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221202214533-jfy92ef" data-type="NodeParagraph" class="p" id="20221202214533-jfy92ef" updated="20230622164005"><div contenteditable="false" spellcheck="false">​<span data-type="code">snippets</span>​ 用于保存代码片段</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20221202214653-s19pmcp" data-type="NodeListItem" class="li" id="20221202214653-s19pmcp" updated="20230622164007"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221202214653-trmmieq" data-type="NodeParagraph" class="p" id="20221202214653-trmmieq" updated="20230622164007"><div contenteditable="false" spellcheck="false">​<span data-type="code">storage</span>​ 用于保存查询条件、布局和闪卡<sup class="footnotes-ref" id="footnotes-ref-3"><a href="#footnotes-def-3">3</a></sup>数据等</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210428213944-j13vr82" data-type="NodeListItem" class="li" updated="20230622164010" id="20210428213944-j13vr82"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210428213944-7a9j1uc" data-type="NodeParagraph" class="p" id="20210428213944-7a9j1uc" updated="20230622164010"><div contenteditable="false" spellcheck="false">​<span data-type="code">templates</span>​ 用于保存模板片段<sup class="footnotes-ref" id="footnotes-ref-4"><a href="#footnotes-def-4">4</a></sup></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210428214009-k0zgwll" data-type="NodeListItem" class="li" id="20210428214009-k0zgwll" updated="20230622164012"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210428214009-lrjn6tn" data-type="NodeParagraph" class="p" id="20210428214009-lrjn6tn" updated="20230622164012"><div contenteditable="false" spellcheck="false">​<span data-type="code">widgets</span>​ 用于保存挂件<sup class="footnotes-ref" id="footnotes-ref-5"><a href="#footnotes-def-5">5</a></sup></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230512170429-itokqka" data-type="NodeListItem" class="li" id="20230512170429-itokqka" updated="20230622164013"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230512170429-dzajfaa" data-type="NodeParagraph" class="p" id="20230512170429-dzajfaa" updated="20230622164013"><div contenteditable="false" spellcheck="false">​<span data-type="code">plugins</span>​ 用于保存插件<sup class="footnotes-ref" id="footnotes-ref-6"><a href="#footnotes-def-6">6</a></sup></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230622163342-3bee88y" data-type="NodeListItem" class="li" id="20230622163342-3bee88y" updated="20230622164014"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230622163342-77ojnru" data-type="NodeParagraph" class="p" id="20230622163342-77ojnru" updated="20230622164014"><div contenteditable="false" spellcheck="false">​<span data-type="code">public</span>​ 用于保存公开的数据</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210428214049-1kebc1m" data-type="NodeListItem" class="li" id="20210428214049-1kebc1m" updated="20210512152317"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210428214054-0vorr4s" data-type="NodeParagraph" class="p" id="20210428214054-0vorr4s" updated="20210512152317"><div contenteditable="false" spellcheck="false">其余文件夹就是用户自己创建的笔记本文件夹，笔记本文件夹下 <span data-type="code">.sy</span>​​​​ 后缀的文件用于保存文档数据，数据格式为 JSON</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h1" data-node-id="20230915114759-cqe86s2" data-type="NodeHeading" class="h1"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-2"></span>资源文件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210503095355-r83044o" data-type="NodeHeading" class="h2" id="20210503095355-r83044o" updated="20210503095726"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210503095358-zr3uijl" data-type="NodeParagraph" class="p" id="20210503095358-zr3uijl" updated="20220711121657"><div contenteditable="false" spellcheck="false">通过编辑器插入的附件会被认为是资源文件，默认放置在 <span data-type="code">工作空间/data/assets/</span> 文件夹下。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20201210194734-lr6v0s2" data-type="NodeHeading" class="h2" id="20201210194734-lr6v0s2" updated="20220824171919"><div contenteditable="false" spellcheck="false">插入图片或文件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091255-8s7avcx" data-type="NodeParagraph" class="p" id="20210104091255-8s7avcx" updated="20220905215650"><div contenteditable="false" spellcheck="false">在编辑器中可以直接粘贴系统剪切板中复制好的图片或文件（Linux 端不支持），或者通过拖拽图片或文件到编辑器中也可以实现插入。插入时有两个选择：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220824172203-etwu4qu" data-type="NodeList" class="list" id="20220824172203-etwu4qu" updated="20220902215702"><div data-marker="*" data-subtype="u" data-node-id="20220824172204-xxh346y" data-type="NodeListItem" class="li" id="20220824172204-xxh346y" updated="20220824172527"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220824172204-fct1t0t" data-type="NodeParagraph" class="p" id="20220824172204-fct1t0t" updated="20220824172527"><div contenteditable="false" spellcheck="false"><span data-type="kbd">复制为资源文件并插入</span>：将图片或文件复制为资源文件并插入，快捷键 <span data-type="kbd">Ctrl+V</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220824172403-agsj358" data-type="NodeListItem" class="li" updated="20220902215702" id="20220824172403-agsj358"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220824172403-0fkrw8o" data-type="NodeParagraph" class="p" id="20220824172403-0fkrw8o" updated="20220902215702"><div contenteditable="false" spellcheck="false"><span data-type="kbd">使用 file:// 绝对路径并链接</span>：将图片或文件以本地绝对路径方式插入超链接，快捷键 <span data-type="kbd">Ctrl+Shift+V</span>，或者按住 <span data-type="kbd">Alt</span> 后拖入</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091255-7fwvx7a" data-type="NodeParagraph" class="p" updated="20220824172301" id="20210104091255-7fwvx7a"><div contenteditable="false" spellcheck="false">对于图片，如果排版时指定了图片标题，则标题会被渲染在图片下方作为图注。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210512171633-u3iy2xx" data-type="NodeParagraph" class="p" id="20210512171633-u3iy2xx" updated="20230505083901"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="display: block;"><span> </span><span><span class="protyle-action protyle-icons"><span class="protyle-icon protyle-icon--only"><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/siyuan-128-20210604092205-djd749a.png" data-src="assets/siyuan-128-20210604092205-djd749a.png" alt="siyuan-128.png" title="源于思考，饮水思源" style="display: block;" /><span class="protyle-action__drag"></span><span class="protyle-action__title">源于思考，饮水思源</span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230505083902-s5e711d" data-type="NodeParagraph" class="p" id="20230505083902-s5e711d" updated="20230505083923"><div contenteditable="false" spellcheck="false">​<span data-type="tag">注意</span>​：插入图片不会进行压缩处理，所有图片和文件都以原始数据进行保存。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210115222011-bzsftun" data-type="NodeHeading" class="h2" id="20210115222011-bzsftun"><div contenteditable="false" spellcheck="false">清理未引用资源</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210115222053-i62ppkz" data-type="NodeParagraph" class="p" id="20210115222053-i62ppkz" updated="20210503095856"><div contenteditable="false" spellcheck="false">“引用”指的是通过超链接、插入图片或者 HTML 标签（例如 <span data-type="code">&lt;img&gt;</span> 、<span data-type="code">&lt;iframe&gt;</span>）的属性 <span data-type="code">src</span> 对资源文件进行链接。这里分为两种情况：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="o" data-node-id="20210115222514-tqfsawm" data-type="NodeList" class="list" id="20210115222514-tqfsawm" updated="20220711121929"><div data-marker="1." data-subtype="o" data-node-id="20210115222515-47r5lop" data-type="NodeListItem" class="li" id="20210115222515-47r5lop" updated="20220711121929"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">1.</div><div data-node-id="20210204172443-a8xpkb9" data-type="NodeParagraph" class="p" id="20210204172443-a8xpkb9" updated="20220711121929"><div contenteditable="false" spellcheck="false">引用具体的资源文件，比如图片或者文件。如果资源文件是 PDF 且做过标注，那么无论它是否被引用都不会计入清理</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="2." data-subtype="o" data-node-id="20210115222545-nilj84d" data-type="NodeListItem" class="li" id="20210115222545-nilj84d" updated="20220711121528"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">2.</div><div data-node-id="20210204172443-zyll68d" data-type="NodeParagraph" class="p" updated="20220711121528" id="20210204172443-zyll68d"><div contenteditable="false" spellcheck="false">引用资源文件夹（在 assets 文件夹下的子文件夹），必须以 <span data-type="code">/</span> 结尾，比如 <span data-type="code">[foo](assets/bar/)</span>。一个资源文件夹如果被引用，则下面所有资源文件无论是否被单独引用，都会被算作已经引用</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210115223610-ffnxstf" data-type="NodeParagraph" class="p" id="20210115223610-ffnxstf" updated="20220711122042"><div contenteditable="false" spellcheck="false">在 <span data-type="kbd">设置</span> - <span data-type="kbd">资源</span> 中可以一键清理未引用资源，如果需要找回被误删的文件，请通过回滚。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210130103406-8jfbo6k" data-type="NodeParagraph" class="p" id="20210130103406-8jfbo6k" updated="20210512160659"><div contenteditable="false" spellcheck="false">​<span data-type="tag">注意</span>​：使用绝对路径（本地路径或者是网络路径）不会纳入清理计算。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230604115545-plxx5iu" data-type="NodeHeading" class="h2" id="20230604115545-plxx5iu" updated="20230604115551"><div contenteditable="false" spellcheck="false">查看丢失资源</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230604115552-qqg9s4j" data-type="NodeParagraph" class="p" id="20230604115552-qqg9s4j" updated="20230604115947"><div contenteditable="false" spellcheck="false">在<span data-type="kbd">设置</span>​ - <span data-type="kbd">资源</span>​ 中可以查看丢失的资源，复制路径后可以在全局搜索中找到引用处。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230604115950-hru51yy" data-type="NodeParagraph" class="p" id="20230604115950-hru51yy" updated="20230604120815"><div contenteditable="false" spellcheck="false">​<span data-type="tag">注意</span>​：搜索资源文件路径需要先启用 <span data-type="kbd">设置</span>​ - <span data-type="kbd">搜索</span>​ - <span data-type="kbd">索引</span>​ - <span data-type="kbd">资源文件路径</span>​。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210615102657-kampx8a" data-type="NodeHeading" class="h2" id="20210615102657-kampx8a" updated="20220503121605"><div contenteditable="false" spellcheck="false">笔记本级资源文件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210615102703-7wghhgm" data-type="NodeParagraph" class="p" id="20210615102703-7wghhgm" updated="20210626153454"><div contenteditable="false" spellcheck="false">如果需要默认将插入的资源文件放置在文档同级 assets 文件夹下，则需要先手动创建名为 assets 的文件夹，这样思源会优先选择该 assets 文件夹来存放资源文件。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220503120950-4e9vwxq" data-type="NodeParagraph" class="p" id="20220503120950-4e9vwxq" updated="20220503121613"><div contenteditable="false" spellcheck="false">建议尽量不要使用笔记本级资源文件，因为这会带来一些副作用：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220503121213-afjyt05" data-type="NodeList" class="list" updated="20220715105016" id="20220503121213-afjyt05"><div data-marker="*" data-subtype="u" data-node-id="20220503121214-haxyvyt" data-type="NodeListItem" class="li" id="20220503121214-haxyvyt" updated="20220503121401"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220503121214-cmqtvby" data-type="NodeParagraph" class="p" id="20220503121214-cmqtvby" updated="20220503121401"><div contenteditable="false" spellcheck="false">删除该笔记本时，为保证跨笔记本资源文件引用正常工作，该笔记本下的资源文件会被批量复制到全局 assets 中</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220503121359-3hqko22" data-type="NodeListItem" class="li" updated="20220503121834" id="20220503121359-3hqko22"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220503121359-amc47nl" data-type="NodeParagraph" class="p" id="20220503121359-amc47nl" updated="20220503121834"><div contenteditable="false" spellcheck="false">不支持在数据历史中查看笔记本级资源文件历史</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220715092717-dbd9ih9" data-type="NodeListItem" class="li" id="20220715092717-dbd9ih9" updated="20220715092726"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220715092717-btrw2bk" data-type="NodeParagraph" class="p" id="20220715092717-btrw2bk" updated="20220715092726"><div contenteditable="false" spellcheck="false">不支持使用 <span data-type="code">/资源</span> 搜索</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220715105014-5jfe0bz" data-type="NodeListItem" class="li" id="20220715105014-5jfe0bz" updated="20220715105016"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220715105014-3r1es71" data-type="NodeParagraph" class="p" id="20220715105014-3r1es71" updated="20220715105016"><div contenteditable="false" spellcheck="false">不支持重命名</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230117002036-vmc0mx4" data-type="NodeHeading" class="h2" id="20230117002036-vmc0mx4" updated="20230117002509"><div contenteditable="false" spellcheck="false">图片 OCR 提取文本</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230117002059-ssmlejt" data-type="NodeParagraph" class="p" id="20230117002059-ssmlejt" updated="20230820185522"><div contenteditable="false" spellcheck="false">该特性仅在桌面端支持，并且需要先手动安装 <span data-type="em">Tesseract OCR</span> 程序。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230202231304-22lvszc" data-type="NodeParagraph" class="p" updated="20230202231309" id="20230202231304-22lvszc"><div contenteditable="false" spellcheck="false">​<span data-type="tag">注意</span>​：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230202231309-pcjl7c2" data-type="NodeList" class="list" updated="20230211103308" id="20230202231309-pcjl7c2"><div data-marker="*" data-subtype="u" data-node-id="20230202231311-7qdk1za" data-type="NodeListItem" class="li" id="20230202231311-7qdk1za" updated="20230211103308"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230202231311-n1pf7in" data-type="NodeParagraph" class="p" id="20230202231311-n1pf7in" updated="20230211103308"><div contenteditable="false" spellcheck="false">在安装 Tesseract OCR 时需要勾选你需要的语言包，并将安装后的 Tesseract-OCR 目录路径添加到环境变量 <span data-type="code">PATH</span>​ 中，这样思源才能直接调用 <span data-type="code">tesseract</span>​ 命令进行图片 OCR 提取文本。如果安装正常的话，在内核启动日志中可以搜索到 <span data-type="code">tesseract-ocr enabled</span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230202231321-q1b1tza" data-type="NodeListItem" class="li" id="20230202231321-q1b1tza" updated="20230211103207"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230202231321-5ugmgf0" data-type="NodeParagraph" class="p" id="20230202231321-5ugmgf0" updated="20230211103207"><div contenteditable="false" spellcheck="false">思源并不会启用所有已安装的语言包，因为语言包太多的话会导致 OCR 缓慢甚至超时返回空结果，并且占用过多的系统资源，所以默认最多只会启用 <span data-type="code">eng</span>​、<span data-type="code">chi*</span>​、<span data-type="code">fra</span>​、<span data-type="code">spa</span>​、<span data-type="code">deu</span>​、<span data-type="code">rus</span>​ 和 <span data-type="code">osd</span>​，如果你需要更准确的语言支持，可以通过配置环境变量 <span data-type="code">SIYUAN_TESSERACT_LANGS</span>​ 来指定语言包，比如 <span data-type="code">SIYUAN_TESSERACT_LANGS=chi_sim+eng</span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230211102440-0qik4dd" data-type="NodeListItem" class="li" id="20230211102440-0qik4dd" updated="20230211102642"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230211102440-09cmf75" data-type="NodeParagraph" class="p" id="20230211102440-09cmf75" updated="20230211102642"><div contenteditable="false" spellcheck="false">仅支持 png 和 jpg 格式的图片</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230211102601-ifl3ojm" data-type="NodeListItem" class="li" id="20230211102601-ifl3ojm" updated="20230211102744"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230211102601-npe6hvh" data-type="NodeParagraph" class="p" id="20230211102601-npe6hvh" updated="20230211102744"><div contenteditable="false" spellcheck="false">默认只对 2MB 以下的图片进行处理，如果需要调整，可以通过环境变量 <span data-type="code">SIYUAN_TESSERACT_MAX_SIZE</span>​ 设置，值的单位是字节，比如：<span data-type="code">SIYUAN_TESSERACT_MAX_SIZE=4000000</span>​ 将上限调整为 4MB</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230117002511-ex9qrjy" data-type="NodeParagraph" class="p" updated="20230117003207" id="20230117002511-ex9qrjy"><div contenteditable="false" spellcheck="false">图片 OCR 提取文本过程是自动在后台进行的，目前仅支持 PNG、JPG 图片。提取的文本会被用于搜索功能，这样就能通过文本关键字来定位图片。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20230414202710-a51lo76" data-type="NodeHeading" class="h3" id="20230414202710-a51lo76" updated="20230414202726"><div contenteditable="false" spellcheck="false">手动调整 OCR 结果</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230117003118-da7wjvx" data-type="NodeParagraph" class="p" updated="20230414202825" id="20230117003118-da7wjvx"><div contenteditable="false" spellcheck="false">OCR 的结果保存在 <span data-type="code">工作空间/data/assets/ocr-texts.json</span>​ 中，可通过下面的方式调整 OCR 结果：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230414202215-wv6v759" data-type="NodeList" class="list" id="20230414202215-wv6v759" updated="20230414203014"><div data-marker="*" data-subtype="u" data-node-id="20230414202216-6ib46sp" data-type="NodeListItem" class="li" id="20230414202216-6ib46sp" updated="20230414203014"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230414202216-7lh8lft" data-type="NodeParagraph" class="p" id="20230414202216-7lh8lft" updated="20230414203014"><div contenteditable="false" spellcheck="false">退出思源后下在文件系统上修改该文件（请注意 JSON 格式的正确性）</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230414202222-wbxjz0f" data-type="NodeListItem" class="li" id="20230414202222-wbxjz0f" updated="20230414202849"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230414202222-oelakfd" data-type="NodeParagraph" class="p" id="20230414202222-oelakfd" updated="20230414202849"><div contenteditable="false" spellcheck="false">或者在编辑器中的图片元素菜单中选择 <span data-type="kbd">OCR</span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230414202749-qbcnypq" data-type="NodeParagraph" class="p" updated="20230414202900" id="20230414202749-qbcnypq"><div contenteditable="false" spellcheck="false">调整完以后需要手动重建索引。</div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h1" data-node-id="20230915114759-9fx66tl" data-type="NodeHeading" class="h1"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-3"></span>闪卡</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20221223215557-glo2lx8" data-type="NodeHeading" class="h2" id="20221223215557-glo2lx8" updated="20221223215621"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20221223215621-389av1h" data-type="NodeParagraph" class="p" id="20221223215621-389av1h" updated="20230820185147"><div contenteditable="false" spellcheck="false">将内容块设置为闪卡后会自动通过间隔重复算法 FSRS (github repo: open-spaced-repetition/free-spaced-repetition-scheduler) 安排复习。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20221223215830-w8x8z8q" data-type="NodeHeading" class="h2" id="20221223215830-w8x8z8q" updated="20221223215834"><div contenteditable="false" spellcheck="false">使用方式</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20230219085616-p18ujkc" data-type="NodeHeading" class="h3" id="20230219085616-p18ujkc" updated="20230219085902"><div contenteditable="false" spellcheck="false">内容块</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230219085733-8mj65zz" data-type="NodeParagraph" class="p" id="20230219085733-8mj65zz" updated="20230219085752"><div contenteditable="false" spellcheck="false">在开始正式制卡之前，我们先介绍一些制卡的基本规则：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230219085658-xnrf7rf" data-type="NodeList" class="list" id="20230219085658-xnrf7rf" updated="20230219092140"><div data-marker="*" data-subtype="u" data-node-id="20221223220707-il9wt7t" data-type="NodeListItem" class="li" id="20221223220707-il9wt7t" updated="20230219085710"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221223220707-v0oxdls" data-type="NodeParagraph" class="p" id="20221223220707-v0oxdls" updated="20221223221347"><div contenteditable="false" spellcheck="false">内容块中的 <span data-type="mark">标记</span> 元素会被视作挖空的答案</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20221229110953-e7fm7vg" data-type="NodeListItem" class="li" updated="20221229111221" id="20221229110953-e7fm7vg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221229110953-fwtd0u1" data-type="NodeParagraph" class="p" id="20221229110953-fwtd0u1" updated="20221229111221"><div contenteditable="false" spellcheck="false">如果将超级块设置为闪卡，则该超级块的第一个子块会被视作问题，其余子块会被视作答案</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230219092035-8ekf01l" data-type="NodeListItem" class="li" id="20230219092035-8ekf01l" updated="20230219092140"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230219092035-p9ybzf1" data-type="NodeParagraph" class="p" id="20230219092035-p9ybzf1" updated="20230219092140"><div contenteditable="false" spellcheck="false">如果将列表或者列表项设置为闪卡，则非子列表会被视问题，子列表会被视作答案</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230324105957-puvmnur" data-type="NodeParagraph" class="p" updated="20230328100253" id="20230324105957-puvmnur"><div contenteditable="false" spellcheck="false">以上规则可以在 <span data-type="kbd">设置</span>​ - <span data-type="kbd">闪卡</span>​ 中调整。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20230219085352-7ma2lg2" data-type="NodeHeading" class="h3" id="20230219085352-7ma2lg2" updated="20230219090055"><div contenteditable="false" spellcheck="false">基于文档</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230219090448-88z0ib9" data-type="NodeParagraph" class="p" id="20230219090448-88z0ib9" updated="20230324110211"><div contenteditable="false" spellcheck="false">基于文档的使用方式可以不必关注卡包，并且支持父子文档复习。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230219085352-sqkbh7t" data-type="NodeList" class="list" id="20230219085352-sqkbh7t" updated="20230219091934"><div data-marker="*" data-subtype="u" data-node-id="20230219085352-ewh3aqy" data-type="NodeListItem" class="li" id="20230219085352-ewh3aqy" updated="20230219090109"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230219085352-0sgkiz2" data-type="NodeParagraph" class="p" id="20230219085352-0sgkiz2" updated="20230219090109"><div contenteditable="false" spellcheck="false">在块标菜单中选择 <span data-type="kbd">快速制卡</span>​ 完成制卡</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230219085352-nd4oy5s" data-type="NodeListItem" class="li" id="20230219085352-nd4oy5s" updated="20230219091934"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230219085352-vl7lwth" data-type="NodeParagraph" class="p" id="20230219085352-vl7lwth" updated="20230219091934"><div contenteditable="false" spellcheck="false">在文档树面板中右击文档或者在编辑器中点击文档块标 <span data-type="kbd">闪卡</span>​ 进入复习</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20230219084417-qgvd9bn" data-type="NodeHeading" class="h3" id="20230219084417-qgvd9bn" updated="20230324110146"><div contenteditable="false" spellcheck="false">基于卡包</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230219090359-1b55hzy" data-type="NodeParagraph" class="p" id="20230219090359-1b55hzy" updated="20230324110447"><div contenteditable="false" spellcheck="false">基于卡包的使用方式可以将不同文档中的内容块制卡后放到统一的卡包中复习。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20221223215834-z8ny593" data-type="NodeList" class="list" updated="20230219091828" id="20221223215834-z8ny593"><div data-marker="*" data-subtype="u" data-node-id="20221229111046-50w42e3" data-type="NodeListItem" class="li" id="20221229111046-50w42e3" updated="20230219091828"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221229111046-fh0iyx1" data-type="NodeParagraph" class="p" updated="20230219091828" id="20221229111046-fh0iyx1"><div contenteditable="false" spellcheck="false">在块标菜单中选择 <span data-type="kbd">添加到卡包...</span>​​，然后将该内容块添加到一个卡包中完成制卡</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20221223220710-o4y8jae" data-type="NodeListItem" class="li" id="20221223220710-o4y8jae" updated="20230219085236"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221223220710-n98j2n8" data-type="NodeParagraph" class="p" id="20221223220710-n98j2n8" updated="20230219085236"><div contenteditable="false" spellcheck="false">通过点击顶栏菜单中的 <span data-type="kbd">闪卡</span>​​ 进入复习</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230324110448-ows59fl" data-type="NodeParagraph" class="p" id="20230324110448-ows59fl" updated="20230324110708"><div contenteditable="false" spellcheck="false">该使用方式默认关闭，如果需要可以在 <span data-type="kbd">设置</span>​ - <span data-type="kbd">闪卡</span>​ - <span data-type="kbd">卡包</span>​ 中开启。但建议不要基于卡包使用闪卡，因为卡包是固定的，没有基于文档使用闪卡灵活。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20221223221214-wr48h8b" data-type="NodeHeading" class="h2" id="20221223221214-wr48h8b" updated="20230304000800"><div contenteditable="false" spellcheck="false">​<span data-type="tag">注意</span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20221223221217-uwk0y7w" data-type="NodeList" class="list" updated="20221223221400" id="20221223221217-uwk0y7w"><div data-marker="*" data-subtype="u" data-node-id="20221223221218-t9lwyc0" data-type="NodeListItem" class="li" id="20221223221218-t9lwyc0" updated="20221223221400"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221223221218-yg6b7jy" data-type="NodeParagraph" class="p" id="20221223221218-yg6b7jy" updated="20221223221400"><div contenteditable="false" spellcheck="false">内容块被删除（或者 ID 改变）后对应的闪卡会失效</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20221223220732-dnlb630" data-type="NodeHeading" class="h2" id="20221223220732-dnlb630" updated="20221223220940"><div contenteditable="false" spellcheck="false">技术实现</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20221223220757-67tsme7" data-type="NodeList" class="list" id="20221223220757-67tsme7" updated="20221223221838"><div data-marker="*" data-subtype="u" data-node-id="20221223221124-i31so3y" data-type="NodeListItem" class="li" id="20221223221124-i31so3y" updated="20221223221838"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221223221124-9sxp1o4" data-type="NodeParagraph" class="p" id="20221223221124-9sxp1o4" updated="20221223221838"><div contenteditable="false" spellcheck="false">卡包数据通过 MessagePack 序列化协议存储在 <span data-type="code">工作空间/data/storage/riff/</span>​ 文件夹下</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20221223221126-3dokoaw" data-type="NodeListItem" class="li" id="20221223221126-3dokoaw" updated="20221223221417"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20221223221126-0gr7zxn" data-type="NodeParagraph" class="p" id="20221223221126-0gr7zxn" updated="20221223221417"><div contenteditable="false" spellcheck="false">启动时加载所有卡包数据到内存，数据同步下载后重新加载一次</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h1" data-node-id="20230915114759-8n7vsjk" data-type="NodeHeading" class="h1"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-4"></span>模板片段</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210428214921-3rfhrt6" data-type="NodeHeading" class="h2" updated="20210428214924" id="20210428214921-3rfhrt6"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-h61sdjr" data-type="NodeParagraph" class="p" id="20210104091309-h61sdjr" updated="20210428230754"><div contenteditable="false" spellcheck="false">模板片段用于在光标插入符位置快速插入之前设置好的文本内容，支持变量。模板片段使用 <span data-type="code">.md</span> 后缀文件，存放在工作空间 data/templates 文件夹下。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210104091309-fhb549c" data-type="NodeHeading" class="h2" id="20210104091309-fhb549c"><div contenteditable="false" spellcheck="false">编写模板</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-siekt4x" data-type="NodeParagraph" class="p" id="20210104091309-siekt4x" updated="20210502204926"><div contenteditable="false" spellcheck="false">模板使用的是 <a href="https://golang.org/pkg/text/template/">Go 编程语言的文本模板</a>进行实现，如果你对此有了解的话，可以实现一些程序逻辑在里面，比如比较逻辑、迭代逻辑等。另外，为了避免语法冲突，模板语法使用 <span data-type="code">.action{action}</span>（而不是 <span data-type="code">{{action}}</span>）。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-mvyh081" data-type="NodeParagraph" class="p" id="20210104091309-mvyh081" updated="20230820185615"><div contenteditable="false" spellcheck="false">我们通过开源项目 Sprig (github repo: Masterminds/sprig) 内置了一些变量和函数来丰富模板。比如可通过 <span data-type="code">.action{now | date &quot;2006-01-02 15:04:05&quot;}</span>​ 来渲染当前时间，更多用法请参考 <a href="http://masterminds.github.io/sprig/">Sprig 帮助文档</a>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-vnxe81t" data-type="NodeParagraph" class="p" id="20210104091309-vnxe81t" updated="20210428223417"><div contenteditable="false" spellcheck="false">关于日期时间格式化有个细节需要<span data-type="tag">注意</span>：Go 编程语言的格式化比较特殊：不是使用 <span data-type="code">yyyy-MM-dd HH:mm:ss</span>，而是使用 <span data-type="code">2006-01-02 15:04:05</span> 这个固定时间格式（<a href="https://www.zhihu.com/question/366830553">知乎讨论</a>）。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-os47lco" data-type="NodeParagraph" class="p" id="20210104091309-os47lco"><div contenteditable="false" spellcheck="false">除了 Sprig 内置的变量和函数，还支持如下变量和函数：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20210104091309-gjkg3u5" data-type="NodeList" class="list" id="20210104091309-gjkg3u5" updated="20220605170311"><div data-marker="*" data-subtype="u" data-node-id="20210104091309-p88fqma" data-type="NodeListItem" class="li" id="20210104091309-p88fqma"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210131155558-loq0tt3" data-type="NodeParagraph" class="p" id="20210131155558-loq0tt3" updated="20210502204955"><div contenteditable="false" spellcheck="false"><span data-type="code">title</span>：该变量用于插入当前文档名。比如模板内容为 <span data-type="code"># .action{.title}</span>，则调用后会以一级标题语法插入到当前文档内容中</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210221131427-rfs2tcl" data-type="NodeListItem" class="li" id="20210221131427-rfs2tcl"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210221131427-mx22ukt" data-type="NodeParagraph" class="p" id="20210221131427-mx22ukt" updated="20210428223457"><div contenteditable="false" spellcheck="false"><span data-type="code">id</span>：该变量用于插入当前文档 ID</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20211213120720-ulwzg6f" data-type="NodeListItem" class="li" id="20211213120720-ulwzg6f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20211213120720-bm8xbwm" data-type="NodeParagraph" class="p" id="20211213120720-bm8xbwm" updated="20211213120746"><div contenteditable="false" spellcheck="false"><span data-type="code">name</span>：该变量用于插入当前文档命名</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20211213120748-0uhzrha" data-type="NodeListItem" class="li" id="20211213120748-0uhzrha" updated="20220605170311"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20211213120748-72e95wc" data-type="NodeParagraph" class="p" id="20211213120748-72e95wc" updated="20220605170311"><div contenteditable="false" spellcheck="false"><span data-type="code">alias</span>：该变量用于插入当前文档别名</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210121193601-uwo8s5h" data-type="NodeListItem" class="li" id="20210121193601-uwo8s5h"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210131155558-ghlchbx" data-type="NodeParagraph" class="p" id="20210131155558-ghlchbx" updated="20210504092933"><div contenteditable="false" spellcheck="false"><span data-type="code">queryBlocks</span>：该函数用于查询数据库，返回值为 blocks 列表，参数为 SQL 语句：<span data-type="code">.action{sql "SELECT * FROM blocks LIMIT 7"}</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210504093313-4aoyxd0" data-type="NodeListItem" class="li" id="20210504093313-4aoyxd0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210504093313-ya53o58" data-type="NodeParagraph" class="p" id="20210504093313-ya53o58" updated="20210504093332"><div contenteditable="false" spellcheck="false"><span data-type="code">querySpans</span>：该函数用于查询数据库，返回值为 spans 列表，参数为 SQL 语句：<span data-type="code">.action{sql "SELECT * FROM spans LIMIT 7"}</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20211213120813-ppm3j85" data-type="NodeListItem" class="li" id="20211213120813-ppm3j85" updated="20211213121154"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20211213120813-9ynpjax" data-type="NodeParagraph" class="p" id="20211213120813-9ynpjax" updated="20211213121154"><div contenteditable="false" spellcheck="false"><span data-type="code">parseTime</span>：该函数用于将时间格式的字符串解析为 <span data-type="code">time.Time</span> 类型，以便使用更多格式化方法渲染该时间</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210604111213-774ll6c" data-type="NodeParagraph" class="p" id="20210604111213-774ll6c" updated="20210604111557"><div contenteditable="false" spellcheck="false"><span data-type="code">queryBlocks</span> 和 <span data-type="code">querySpans</span> 支持类似 SQL 预编译语句的变参列表，方便传入参数：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210604111446-p6vadfc" data-type="NodeCodeBlock" class="code-block" id="20210604111446-p6vadfc" updated="20210604111632"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false"></span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">.action{$today := now | date &quot;20060102150405&quot;}
.action{$blocks :=queryBlocks &quot;SELECT * FROM blocks WHERE content LIKE '?' AND updated &gt; '?' LIMIT ?&quot; &quot;%foo%&quot; $today &quot;3&quot;}
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210104091309-h71ogwf" data-type="NodeHeading" class="h2" id="20210104091309-h71ogwf"><div contenteditable="false" spellcheck="false">调用模板</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-l9wcdtk" data-type="NodeParagraph" class="p" id="20210104091309-l9wcdtk" updated="20210428221604"><div contenteditable="false" spellcheck="false">在光标插入符位置，通过 <span data-type="code">/</span> 选择模板来触发模板搜索，找到需要插入的模板后回车即可。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210104091309-2p68yju" data-type="NodeHeading" class="h2" id="20210104091309-2p68yju"><div contenteditable="false" spellcheck="false">一个示例</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-9ppkq6j" data-type="NodeCodeBlock" class="code-block" id="20210104091309-9ppkq6j"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">plaintext</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">.action{$before := (div (now.Sub (toDate &quot;2006-01-02&quot; &quot;2020-02-19&quot;)).Hours 24)}

.action{$after := (div ((toDate &quot;2006-01-02&quot; &quot;2048-02-19&quot;).Sub now).Hours 24)}
今天是 `.action{now | date &quot;2006-01-02&quot;}`。

* 距离 `2020-02-19` 已经过去 `.action{$before}` 天
* 距离 `2048-02-19` 还剩 `.action{$after}` 天
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210104091309-06sv04x" data-type="NodeParagraph" class="p" id="20210104091309-06sv04x"><div contenteditable="false" spellcheck="false"><span data-type="code">$before</span> 和 <span data-type="code">$after</span> 定义了两个变量，分别记录当前日期距离 2020 年和 2048 年的天数。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210131162925-p51ey8q" data-type="NodeHeading" class="h2" id="20210131162925-p51ey8q"><div contenteditable="false" spellcheck="false">上架模板集市</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20221114172717-fu9oalt" data-type="NodeParagraph" class="p" id="20221114172717-fu9oalt" updated="20230820184212"><div contenteditable="false" spellcheck="false">请参考<a href="https://b3log.org/siyuan/community.html">社区集市仓库</a>。</div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h1" data-node-id="20230915114759-ye6gnws" data-type="NodeHeading" class="h1"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-5"></span>挂件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210824201352-apdkqps" data-type="NodeHeading" class="h2" id="20210824201352-apdkqps" updated="20210824201352"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210824201352-z3731rx" data-type="NodeParagraph" class="p" id="20210824201352-z3731rx" updated="20230512170805"><div contenteditable="false" spellcheck="false">挂件是思源内核伺服的静态网页，它通过 API 存取数据，通过 <span data-type="code">&lt;iframe&gt;</span>​ 进行渲染展现。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230512170809-69w37zm" data-type="NodeParagraph" class="p" id="20230512170809-69w37zm" updated="20230512194517"><div contenteditable="false" spellcheck="false">相较于插件<sup class="footnotes-ref" id="footnotes-ref-6"><a href="#footnotes-def-6">6</a></sup>而言，挂件是一种内容块，遵循块的索引和渲染规则，挂件主要面向内容块扩展，不面向程序功能扩展。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20210824201352-9vey615" data-type="NodeHeading" class="h2" id="20210824201352-9vey615" updated="20210824202222"><div contenteditable="false" spellcheck="false">使用方式</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210824201352-xhr1kmi" data-type="NodeParagraph" class="p" updated="20230506210708" id="20210824201352-xhr1kmi"><div contenteditable="false" spellcheck="false">挂件通过挂件集市安装，安装后挂件将被放置到 <span data-type="code">工作空间/widgets/</span>​ 文件夹下。在编辑器中使用斜杆菜单触发调用搜索，选择需要的挂件后该挂件就会以挂件块的形式插入到文档中。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20211222095016-3jjm95h" data-type="NodeHeading" class="h2" id="20211222095016-3jjm95h" updated="20211222095023"><div contenteditable="false" spellcheck="false">上架挂件集市</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20221114172636-pirwdpa" data-type="NodeParagraph" class="p" id="20221114172636-pirwdpa" updated="20230820184200"><div contenteditable="false" spellcheck="false">请参考<a href="https://b3log.org/siyuan/community.html">社区集市仓库</a>。</div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h1" data-node-id="20230915114759-ulx1u2h" data-type="NodeHeading" class="h1"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-6"></span>插件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230506210021-udp6q1j" data-type="NodeHeading" class="h2" id="20230506210021-udp6q1j" updated="20230506210021"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230506210021-1ngx24g" data-type="NodeParagraph" class="p" id="20230506210021-1ngx24g" updated="20230506211757"><div contenteditable="false" spellcheck="false">插件主要用于扩展思源整体功能。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230512170814-itmsfoy" data-type="NodeParagraph" class="p" id="20230512170814-itmsfoy" updated="20230512171323"><div contenteditable="false" spellcheck="false">相较于挂件<sup class="footnotes-ref" id="footnotes-ref-5"><a href="#footnotes-def-5">5</a></sup>而言，插件主要面向程序功能扩展，不面向内容块扩展。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230506210021-04aesus" data-type="NodeHeading" class="h2" id="20230506210021-04aesus" updated="20230506210021"><div contenteditable="false" spellcheck="false">使用方式</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230506210021-tk7w2m5" data-type="NodeParagraph" class="p" id="20230506210021-tk7w2m5" updated="20230506210853"><div contenteditable="false" spellcheck="false">插件通过插件集市安装，安装后插件将被放置到 <span data-type="code">工作空间/plugins/</span>​ 文件夹下，你可以在 <span data-type="kbd">插件集市</span>​ - <span data-type="kbd">已下载</span>​ - <span data-type="kbd">插件</span>​ 中启用或禁用插件。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230506210021-f12gucj" data-type="NodeHeading" class="h2" id="20230506210021-f12gucj" updated="20230506210911"><div contenteditable="false" spellcheck="false">上架插件集市</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230506210021-jimdgxy" data-type="NodeParagraph" class="p" id="20230506210021-jimdgxy" updated="20230820184204"><div contenteditable="false" spellcheck="false">请参考<a href="https://b3log.org/siyuan/community.html">社区集市仓库</a>。</div><div class="protyle-attr" contenteditable="false"></div></div></li>
</ol></div>
        </div>
        <script src="../../appearance/icons/material/icon.js?2.10.5"></script>
        <script src="../../stage/build/export/protyle-method.js?2.10.5"></script>
        <script src="../../stage/protyle/js/lute/lute.min.js?2.10.5"></script>
        <script>
          window.siyuan = {
            config: {
              appearance: { mode: 0, codeBlockThemeDark: "base16/dracula", codeBlockThemeLight: "github" },
              editor: {
                codeLineWrap: true,
                codeLigatures: false,
                plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
                codeSyntaxHighlightLineNum: true,
                katexMacros: JSON.stringify({}),
              },
            },
            languages: { copy: "复制" },
          };
          const previewElement = document.getElementById("preview");
          Protyle.highlightRender(previewElement, "../../stage/protyle");
          Protyle.mathRender(previewElement, "../../stage/protyle", false);
          Protyle.mermaidRender(previewElement, "../../stage/protyle");
          Protyle.flowchartRender(previewElement, "../../stage/protyle");
          Protyle.graphvizRender(previewElement, "../../stage/protyle");
          Protyle.chartRender(previewElement, "../../stage/protyle");
          Protyle.mindmapRender(previewElement, "../../stage/protyle");
          Protyle.abcRender(previewElement, "../../stage/protyle");
          Protyle.htmlRender(previewElement);
          Protyle.plantumlRender(previewElement, "../../stage/protyle");
          document.querySelectorAll(".protyle-action__copy").forEach((item) => {
            item.addEventListener("click", (event) => {
              navigator.clipboard.writeText(item.parentElement.nextElementSibling.textContent.trimEnd());
              event.preventDefault();
              event.stopPropagation();
            });
          });
        </script>
      </body>
    </html>