<!DOCTYPE html>
    <html lang="zh_CN" data-theme-mode="light" data-light-theme="daylight" data-dark-theme="midnight">
      <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <link rel="stylesheet" type="text/css" id="baseStyle" href="../../../stage/build/export/base.css?2.10.5" />
        <link
          rel="stylesheet"
          type="text/css"
          id="themeDefaultStyle"
          href="../../../appearance/themes/daylight/theme.css?2.10.5"
        />

        <title>数据备份</title>
        <style>
          body {
            background-color: var(--b3-theme-background);
            color: var(--b3-theme-on-background);
          }
          .b3-typography,
          .protyle-wysiwyg,
          .protyle-title {
            font-size: 16px !important;
          }
          .b3-typography code:not(.hljs),
          .protyle-wysiwyg span[data-type~="code"] {
            font-variant-ligatures: normal;
          }
          .li > .protyle-action {
            height: 34px;
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h1,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h2,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h3,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h4,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h5,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h6 {
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action:after {
            height: 16px;
            width: 16px;
            margin: -8px 0 0 -8px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action svg {
            height: 14px;
          }
          .protyle-wysiwyg [data-node-id].li:before {
            height: calc(100% - 34px);
            top: 34px;
          }
          .protyle-wysiwyg [data-node-id] [spellcheck] {
            min-height: 26px;
          }
          .protyle-wysiwyg [data-node-id] {
          }
          .protyle-wysiwyg .li {
            min-height: 34px;
          }
          .protyle-gutters button svg {
            height: 26px;
          }
          .protyle-wysiwyg img.emoji,
          .b3-typography img.emoji {
            width: 18px;
          }
          .protyle-wysiwyg .h1 img.emoji,
          .b3-typography h1 img.emoji {
            width: 35px;
          }
          .protyle-wysiwyg .h2 img.emoji,
          .b3-typography h2 img.emoji {
            width: 31px;
          }
          .protyle-wysiwyg .h3 img.emoji,
          .b3-typography h3 img.emoji {
            width: 27px;
          }
          .protyle-wysiwyg .h4 img.emoji,
          .b3-typography h4 img.emoji {
            width: 25px;
          }
          .protyle-wysiwyg .h5 img.emoji,
          .b3-typography h5 img.emoji {
            width: 22px;
          }
          .protyle-wysiwyg .h6 img.emoji,
          .b3-typography h6 img.emoji {
            width: 20px;
          }
        </style>
      </head>
      <body>
        <div class="protyle-wysiwyg protyle-wysiwyg--attr" style="max-width: 800px;margin: 0 auto;" id="preview">
          <div data-subtype="h1" data-node-id="20230808120348-lgcp9zm" data-type="NodeHeading" class="h1" title="数据备份" updated="20220708103950" id="20230808120348-lgcp9zm"><div contenteditable="false" spellcheck="false">数据备份</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120348-jzidvij" data-type="NodeHeading" class="h2" id="20230808120348-jzidvij" updated="20220708095359"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120348-t1mk2y9" data-type="NodeParagraph" class="p" id="20230808120348-t1mk2y9" updated="20220708103950"><div contenteditable="false" spellcheck="false">数据备份指的是将数据快照<sup class="footnotes-ref" id="footnotes-ref-1"><a href="#footnotes-def-1">1</a></sup>上传到云端。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120348-zi8ct0p" data-type="NodeHeading" class="h2" id="20230808120348-zi8ct0p" updated="20220708100015"><div contenteditable="false" spellcheck="false">使用方式</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="o" data-node-id="20230808120348-645onmt" data-type="NodeList" class="list" id="20230808120348-645onmt" updated="20220708102922"><div data-marker="1." data-subtype="o" data-node-id="20230808120348-mq3qxqd" data-type="NodeListItem" class="li" id="20230808120348-mq3qxqd" updated="20220708100929"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">1.</div><div data-node-id="20230808120348-ktnbdwv" data-type="NodeParagraph" class="p" id="20230808120348-ktnbdwv" updated="20220708100937"><div contenteditable="false" spellcheck="false">初始化数据仓库密钥<sup class="footnotes-ref" id="footnotes-ref-2"><a href="#footnotes-def-2">2</a></sup>后如果一切正常就已经配置好备份了</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="2." data-subtype="o" data-node-id="20230808120348-totosr9" data-type="NodeListItem" class="li" updated="20220708102811" id="20230808120348-totosr9"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">2.</div><div data-node-id="20230808120348-td2yby1" data-type="NodeParagraph" class="p" id="20230808120348-td2yby1" updated="20220708102811"><div contenteditable="false" spellcheck="false">打开 <span data-type="kbd">数据历史</span> - <span data-type="kbd">数据快照</span> 页签，选择需要备份的快照点击 <span data-type="kbd">标记快照</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="3." data-subtype="o" data-node-id="20230808120348-pa30615" data-type="NodeListItem" class="li" id="20230808120348-pa30615"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">3.</div><div data-node-id="20230808120348-d2nxsko" data-type="NodeParagraph" class="p" id="20230808120348-d2nxsko" updated="20220708101018"><div contenteditable="false" spellcheck="false">筛选下拉列表中选择 <span data-type="kbd">本地标记的快照</span>，选择需要上传的快照点击 <span data-type="kbd">上传</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="4." data-subtype="o" data-node-id="20230808120348-jybz6et" data-type="NodeListItem" class="li" id="20230808120348-jybz6et" updated="20220708102922"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">4.</div><div data-node-id="20230808120348-m0re4pa" data-type="NodeParagraph" class="p" id="20230808120348-m0re4pa" updated="20220708102922"><div contenteditable="false" spellcheck="false">上传完成以后，筛选下拉列表中选择 <span data-type="kbd">云端标记的快照</span> 可以看到刚刚备份到云端的快照</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="5." data-subtype="o" data-node-id="20230808120348-ag2s56w" data-type="NodeListItem" class="li" id="20230808120348-ag2s56w"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">5.</div><div data-node-id="20230808120348-tbzcgy7" data-type="NodeParagraph" class="p" id="20230808120348-tbzcgy7" updated="20220708101644"><div contenteditable="false" spellcheck="false">云端备份的快照下载到本地后可以通过回滚数据快照<sup class="footnotes-ref" id="footnotes-ref-3"><a href="#footnotes-def-3">3</a></sup>恢复数据</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120348-5qkf6po" data-type="NodeParagraph" class="p" id="20230808120348-5qkf6po" updated="20220708101922"><div contenteditable="false" spellcheck="false">另外：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120348-3h1cxja" data-type="NodeList" class="list" updated="20220708101943" id="20230808120348-3h1cxja"><div data-marker="*" data-subtype="u" data-node-id="20230808120348-xwlnuv3" data-type="NodeListItem" class="li" id="20230808120348-xwlnuv3" updated="20220708101943"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120348-tlm1dq0" data-type="NodeParagraph" class="p" id="20230808120348-tlm1dq0" updated="20220708101943"><div contenteditable="false" spellcheck="false">忽略文件<sup class="footnotes-ref" id="footnotes-ref-4"><a href="#footnotes-def-4">4</a></sup></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120348-7m3us1s" data-type="NodeListItem" class="li" id="20230808120348-7m3us1s" updated="20220708101925"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120348-3umvlw3" data-type="NodeParagraph" class="p" id="20230808120348-3umvlw3" updated="20220708101925"><div contenteditable="false" spellcheck="false">云端最多支持保存 12 个数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120348-c017oom" data-type="NodeParagraph" class="p" id="20230808120348-c017oom"><div contenteditable="false" spellcheck="false">‍</div><div class="protyle-attr" contenteditable="false"></div></div><div class="footnotes-defs-div"><hr class="footnotes-defs-hr" />
<ol class="footnotes-defs-ol"><li><div data-subtype="h2" data-node-id="20220615112531-5yos96d" data-type="NodeHeading" class="h2" id="20220615112531-5yos96d" updated="20220615112535"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-1"></span>数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20220615113758-i2279ot" data-type="NodeHeading" class="h3" id="20220615113758-i2279ot" updated="20220615113939"><div contenteditable="false" spellcheck="false">初始化密钥</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615113752-lbtlf6j" data-type="NodeParagraph" class="p" updated="20220615113952" id="20220615113752-lbtlf6j"><div contenteditable="false" spellcheck="false">第一次使用数据快照前需要在 <span data-type="kbd">设置</span> - <span data-type="kbd">关于</span> 中初始化 <span data-type="kbd">数据仓库密钥</span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220722001510-mtrrbj0" data-type="NodeParagraph" class="p" updated="20220722001555" id="20220722001510-mtrrbj0"><div contenteditable="false" spellcheck="false">初始化密钥有三种方式：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220722001555-3wcanjb" data-type="NodeList" class="list" id="20220722001555-3wcanjb" updated="20220722001917"><div data-marker="*" data-subtype="u" data-node-id="20220722001556-sjm48yn" data-type="NodeListItem" class="li" id="20220722001556-sjm48yn" updated="20220722001556"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001556-8sc4mqb" data-type="NodeParagraph" class="p" id="20220722001556-8sc4mqb" updated="20220722001656"><div contenteditable="false" spellcheck="false"><span data-type="kbd">导入密钥</span>：将其他设备上的密钥字符串复制到此粘贴导入</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220722001657-79plg0z" data-type="NodeListItem" class="li" id="20220722001657-79plg0z"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001657-gh22p4n" data-type="NodeParagraph" class="p" id="20220722001657-gh22p4n" updated="20220722001831"><div contenteditable="false" spellcheck="false"><span data-type="kbd">自动生成密钥</span>：使用随机数生成密钥，该方式只需在一台设备上执行一次，其他设备使用 <span data-type="kbd">导入密钥</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220722001834-8kc1pdr" data-type="NodeListItem" class="li" id="20220722001834-8kc1pdr" updated="20220722001917"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001834-13o5rzz" data-type="NodeParagraph" class="p" id="20220722001834-13o5rzz" updated="20220722001917"><div contenteditable="false" spellcheck="false"><span data-type="kbd">通过密码生成密钥</span>：使用自定义的密码短语生成密钥，该方式需要在所有设备上都使用相同的密码短语</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615113953-4o3uc9z" data-type="NodeParagraph" class="p" id="20220615113953-4o3uc9z" updated="20220722002029"><div contenteditable="false" spellcheck="false">总而言之，请务必保证所有设备都使用相同的密钥，否则数据快照将无法跨设备使用，比如无法通过云端同步数据快照。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20220615112535-k8n73hd" data-type="NodeHeading" class="h3" id="20220615112535-k8n73hd" updated="20220615113005"><div contenteditable="false" spellcheck="false">创建数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="o" data-node-id="20220615112933-zoh8iyg" data-type="NodeList" class="list" id="20220615112933-zoh8iyg" updated="20220625231649"><div data-marker="1." data-subtype="o" data-node-id="20220615114246-9or7h68" data-type="NodeListItem" class="li" updated="20220625231649" id="20220615114246-9or7h68"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">1.</div><div data-node-id="20220615114246-lr3ydl0" data-type="NodeParagraph" class="p" id="20220615114246-lr3ydl0" updated="20220625231649"><div contenteditable="false" spellcheck="false">点击顶部工具栏 <span data-type="kbd">数据历史</span> 按钮或者 <span data-type="kbd">Alt+H</span> 可打开数据历史界面</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="2." data-subtype="o" data-node-id="20220615114251-72kaaxr" data-type="NodeListItem" class="li" id="20220615114251-72kaaxr"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">2.</div><div data-node-id="20220615114251-2y9unt4" data-type="NodeParagraph" class="p" id="20220615114251-2y9unt4" updated="20220615114252"><div contenteditable="false" spellcheck="false">切换到最后一个页签 <span data-type="kbd">数据快照</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="3." data-subtype="o" data-node-id="20220615114253-k4a3tg5" data-type="NodeListItem" class="li" id="20220615114253-k4a3tg5" updated="20220615120214"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">3.</div><div data-node-id="20220615114253-70sfmtn" data-type="NodeParagraph" class="p" id="20220615114253-70sfmtn" updated="20220615120214"><div contenteditable="false" spellcheck="false">点击 <span data-type="kbd">创建快照</span>，填写 <span data-type="kbd">备注</span> 并确认</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615114908-0y5tfv9" data-type="NodeParagraph" class="p" id="20220615114908-0y5tfv9" updated="20220615115114"><div contenteditable="false" spellcheck="false">浏览数据快照时只能通过快照创建时间和备注进行区别，所以备注信息应该尽量详细一些，以备后续能够准确识别不同的数据快照。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20220615114301-099icf4" data-type="NodeHeading" class="h3" id="20220615114301-099icf4" updated="20220615114632"><div contenteditable="false" spellcheck="false">浏览数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615114706-5wy741l" data-type="NodeParagraph" class="p" updated="20220615115247" id="20220615114706-5wy741l"><div contenteditable="false" spellcheck="false">创建完数据快照后可以在左侧看到快照时间列表，点击不同快照以后可以浏览其备注。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20220615115212-kjebrv4" data-type="NodeHeading" class="h3" id="20220615115212-kjebrv4" updated="20220615115226"><div contenteditable="false" spellcheck="false">回滚数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615115227-oxdlcxq" data-type="NodeParagraph" class="p" id="20220615115227-oxdlcxq" updated="20220615115452"><div contenteditable="false" spellcheck="false">在快照时间列表条目右侧都有一个回滚按钮，点击以后将弹出确认对话框，如果确认回滚的话将使用快照数据完全替换现有数据。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20220615115126-z62p36j" data-type="NodeHeading" class="h3" id="20220615115126-z62p36j" updated="20220615115532"><div contenteditable="false" spellcheck="false">清理数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220615115758-ajl5l83" data-type="NodeList" class="list" id="20220615115758-ajl5l83" updated="20230422102226"><div data-marker="*" data-subtype="u" data-node-id="20230422101107-ihb3kxp" data-type="NodeListItem" class="li" id="20230422101107-ihb3kxp" updated="20230422102226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230422101107-zxq6qh2" data-type="NodeParagraph" class="p" id="20230422101107-zxq6qh2" updated="20230422102226"><div contenteditable="false" spellcheck="false">​<span data-type="kbd">设置</span>​ - <span data-type="kbd">关于</span>​ - <span data-type="kbd">数据仓库清理</span>​ 将删除所有未引用的快照和相关数据对象。“引用的快照”指的是 repo/refs/ 下指向的快照：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230422101343-wvt2y4r" data-type="NodeList" class="list" id="20230422101343-wvt2y4r" updated="20230422101936"><div data-marker="*" data-subtype="u" data-node-id="20230422101343-obxopx6" data-type="NodeListItem" class="li" id="20230422101343-obxopx6" updated="20230422101934"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230422101343-f5w2p8p" data-type="NodeParagraph" class="p" updated="20230422101934" id="20230422101343-f5w2p8p"><div contenteditable="false" spellcheck="false">​<span data-type="code">latest</span>​ 指向最新一个快照</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230422101357-4ugrbw1" data-type="NodeListItem" class="li" id="20230422101357-4ugrbw1" updated="20230422101936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230422101357-istm02i" data-type="NodeParagraph" class="p" id="20230422101357-istm02i" updated="20230422101936"><div contenteditable="false" spellcheck="false">​<span data-type="code">tags/*</span>​ 指向手动标记的快照</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230422101105-vdd9m4g" data-type="NodeListItem" class="li" id="20230422101105-vdd9m4g" updated="20230422101105"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230422101105-0csmuf6" data-type="NodeParagraph" class="p" updated="20230422101106" id="20230422101105-0csmuf6"><div contenteditable="false" spellcheck="false">手动删除 <span data-type="code">工作空间/repo/</span>​​ 文件夹可以清空全部数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20210928094544-vg2c2ts" data-type="NodeHeading" class="h3" id="20210928094544-vg2c2ts" updated="20210928094608"><div contenteditable="false" spellcheck="false">忽略文件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210928094612-rymbb43" data-type="NodeParagraph" class="p" id="20210928094612-rymbb43" updated="20220708101301"><div contenteditable="false" spellcheck="false">如果需要在创建快照时忽略一些文件，请在文件系统上创建或编辑文本文件 <span data-type="code"> 工作空间/data/.siyuan/syncignore</span>， 其中每一行使用 data 文件夹的相对路径进行配置，表示忽略文件或文件夹的路径，支持通配符。例如：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20210928094821-syjcgbp" data-type="NodeList" class="list" id="20210928094821-syjcgbp" updated="20211222185741"><div data-marker="*" data-subtype="u" data-node-id="20210928094822-nn422ie" data-type="NodeListItem" class="li" id="20210928094822-nn422ie" updated="20211222185741"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210928094822-ipyjn3n" data-type="NodeParagraph" class="p" id="20210928094822-ipyjn3n" updated="20211222185741"><div contenteditable="false" spellcheck="false"><span data-type="code">20210808180117-6v0mkxr/**/*</span>： 忽略 data/20210808180117-6v0mkxr 笔记本</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210928095121-tyfox35" data-type="NodeListItem" class="li" id="20210928095121-tyfox35" updated="20210928095254"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210928095121-tng5faj" data-type="NodeParagraph" class="p" id="20210928095121-tng5faj" updated="20210928095254"><div contenteditable="false" spellcheck="false"><span data-type="code">assets/*.pdf</span>：忽略 data/assets/ 下的 PDF 文件</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20220708101225-a2lxbp0" data-type="NodeHeading" class="h3" updated="20220807180307" id="20220708101225-a2lxbp0"><div contenteditable="false" spellcheck="false"><span data-type="tag">注意</span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220807180308-7hyw96s" data-type="NodeList" class="list" id="20220807180308-7hyw96s" updated="20220807180341"><div data-marker="*" data-subtype="u" data-node-id="20220807180328-2km55lx" data-type="NodeListItem" class="li" id="20220807180328-2km55lx" updated="20220807180341"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220807180328-x8lpi2n" data-type="NodeParagraph" class="p" id="20220807180328-x8lpi2n" updated="20220807180341"><div contenteditable="false" spellcheck="false">符号链接和隐藏文件不会被快照</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h3" data-node-id="20220615113758-i2279ot" data-type="NodeHeading" class="h3" id="20220615113758-i2279ot" updated="20220615113939"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-2"></span>初始化密钥</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615113752-lbtlf6j" data-type="NodeParagraph" class="p" id="20220615113752-lbtlf6j" updated="20220615113952"><div contenteditable="false" spellcheck="false">第一次使用数据快照前需要在 <span data-type="kbd">设置</span> - <span data-type="kbd">关于</span> 中初始化 <span data-type="kbd">数据仓库密钥</span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220722001510-mtrrbj0" data-type="NodeParagraph" class="p" updated="20220722001555" id="20220722001510-mtrrbj0"><div contenteditable="false" spellcheck="false">初始化密钥有三种方式：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220722001555-3wcanjb" data-type="NodeList" class="list" id="20220722001555-3wcanjb" updated="20220722001917"><div data-marker="*" data-subtype="u" data-node-id="20220722001556-sjm48yn" data-type="NodeListItem" class="li" id="20220722001556-sjm48yn" updated="20220722001556"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001556-8sc4mqb" data-type="NodeParagraph" class="p" id="20220722001556-8sc4mqb" updated="20220722001656"><div contenteditable="false" spellcheck="false"><span data-type="kbd">导入密钥</span>：将其他设备上的密钥字符串复制到此粘贴导入</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220722001657-79plg0z" data-type="NodeListItem" class="li" id="20220722001657-79plg0z"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001657-gh22p4n" data-type="NodeParagraph" class="p" id="20220722001657-gh22p4n" updated="20220722001831"><div contenteditable="false" spellcheck="false"><span data-type="kbd">自动生成密钥</span>：使用随机数生成密钥，该方式只需在一台设备上执行一次，其他设备使用 <span data-type="kbd">导入密钥</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220722001834-8kc1pdr" data-type="NodeListItem" class="li" id="20220722001834-8kc1pdr" updated="20220722001917"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001834-13o5rzz" data-type="NodeParagraph" class="p" id="20220722001834-13o5rzz" updated="20220722001917"><div contenteditable="false" spellcheck="false"><span data-type="kbd">通过密码生成密钥</span>：使用自定义的密码短语生成密钥，该方式需要在所有设备上都使用相同的密码短语</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615113953-4o3uc9z" data-type="NodeParagraph" class="p" id="20220615113953-4o3uc9z" updated="20220722002029"><div contenteditable="false" spellcheck="false">总而言之，请务必保证所有设备都使用相同的密钥，否则数据快照将无法跨设备使用，比如无法通过云端同步数据快照。</div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h3" data-node-id="20220615115212-kjebrv4" data-type="NodeHeading" class="h3" id="20220615115212-kjebrv4" updated="20220615115226"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-3"></span>回滚数据快照</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615115227-oxdlcxq" data-type="NodeParagraph" class="p" id="20220615115227-oxdlcxq" updated="20220615115452"><div contenteditable="false" spellcheck="false">在快照时间列表条目右侧都有一个回滚按钮，点击以后将弹出确认对话框，如果确认回滚的话将使用快照数据完全替换现有数据。</div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h3" data-node-id="20210928094544-vg2c2ts" data-type="NodeHeading" class="h3" id="20210928094544-vg2c2ts" updated="20210928094608"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-4"></span>忽略文件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210928094612-rymbb43" data-type="NodeParagraph" class="p" id="20210928094612-rymbb43" updated="20220708101301"><div contenteditable="false" spellcheck="false">如果需要在创建快照时忽略一些文件，请在文件系统上创建或编辑文本文件 <span data-type="code"> 工作空间/data/.siyuan/syncignore</span>， 其中每一行使用 data 文件夹的相对路径进行配置，表示忽略文件或文件夹的路径，支持通配符。例如：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20210928094821-syjcgbp" data-type="NodeList" class="list" id="20210928094821-syjcgbp" updated="20211222185741"><div data-marker="*" data-subtype="u" data-node-id="20210928094822-nn422ie" data-type="NodeListItem" class="li" id="20210928094822-nn422ie" updated="20211222185741"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210928094822-ipyjn3n" data-type="NodeParagraph" class="p" id="20210928094822-ipyjn3n" updated="20211222185741"><div contenteditable="false" spellcheck="false"><span data-type="code">20210808180117-6v0mkxr/**/*</span>： 忽略 data/20210808180117-6v0mkxr 笔记本</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210928095121-tyfox35" data-type="NodeListItem" class="li" id="20210928095121-tyfox35" updated="20210928095254"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210928095121-tng5faj" data-type="NodeParagraph" class="p" id="20210928095121-tng5faj" updated="20210928095254"><div contenteditable="false" spellcheck="false"><span data-type="code">assets/*.pdf</span>：忽略 data/assets/ 下的 PDF 文件</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div></li>
</ol></div>
        </div>
        <script src="../../../appearance/icons/material/icon.js?2.10.5"></script>
        <script src="../../../stage/build/export/protyle-method.js?2.10.5"></script>
        <script src="../../../stage/protyle/js/lute/lute.min.js?2.10.5"></script>
        <script>
          window.siyuan = {
            config: {
              appearance: { mode: 0, codeBlockThemeDark: "base16/dracula", codeBlockThemeLight: "github" },
              editor: {
                codeLineWrap: true,
                codeLigatures: false,
                plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
                codeSyntaxHighlightLineNum: true,
                katexMacros: JSON.stringify({}),
              },
            },
            languages: { copy: "复制" },
          };
          const previewElement = document.getElementById("preview");
          Protyle.highlightRender(previewElement, "../../../stage/protyle");
          Protyle.mathRender(previewElement, "../../../stage/protyle", false);
          Protyle.mermaidRender(previewElement, "../../../stage/protyle");
          Protyle.flowchartRender(previewElement, "../../../stage/protyle");
          Protyle.graphvizRender(previewElement, "../../../stage/protyle");
          Protyle.chartRender(previewElement, "../../../stage/protyle");
          Protyle.mindmapRender(previewElement, "../../../stage/protyle");
          Protyle.abcRender(previewElement, "../../../stage/protyle");
          Protyle.htmlRender(previewElement);
          Protyle.plantumlRender(previewElement, "../../../stage/protyle");
          document.querySelectorAll(".protyle-action__copy").forEach((item) => {
            item.addEventListener("click", (event) => {
              navigator.clipboard.writeText(item.parentElement.nextElementSibling.textContent.trimEnd());
              event.preventDefault();
              event.stopPropagation();
            });
          });
        </script>
      </body>
    </html>