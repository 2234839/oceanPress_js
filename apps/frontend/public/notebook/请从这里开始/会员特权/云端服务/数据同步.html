<!DOCTYPE html>
    <html lang="zh_CN" data-theme-mode="light" data-light-theme="daylight" data-dark-theme="midnight">
      <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <link rel="stylesheet" type="text/css" id="baseStyle" href="../../../stage/build/export/base.css?2.10.5" />
        <link
          rel="stylesheet"
          type="text/css"
          id="themeDefaultStyle"
          href="../../../appearance/themes/daylight/theme.css?2.10.5"
        />

        <title>数据同步</title>
        <style>
          body {
            background-color: var(--b3-theme-background);
            color: var(--b3-theme-on-background);
          }
          .b3-typography,
          .protyle-wysiwyg,
          .protyle-title {
            font-size: 16px !important;
          }
          .b3-typography code:not(.hljs),
          .protyle-wysiwyg span[data-type~="code"] {
            font-variant-ligatures: normal;
          }
          .li > .protyle-action {
            height: 34px;
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h1,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h2,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h3,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h4,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h5,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h6 {
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action:after {
            height: 16px;
            width: 16px;
            margin: -8px 0 0 -8px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action svg {
            height: 14px;
          }
          .protyle-wysiwyg [data-node-id].li:before {
            height: calc(100% - 34px);
            top: 34px;
          }
          .protyle-wysiwyg [data-node-id] [spellcheck] {
            min-height: 26px;
          }
          .protyle-wysiwyg [data-node-id] {
          }
          .protyle-wysiwyg .li {
            min-height: 34px;
          }
          .protyle-gutters button svg {
            height: 26px;
          }
          .protyle-wysiwyg img.emoji,
          .b3-typography img.emoji {
            width: 18px;
          }
          .protyle-wysiwyg .h1 img.emoji,
          .b3-typography h1 img.emoji {
            width: 35px;
          }
          .protyle-wysiwyg .h2 img.emoji,
          .b3-typography h2 img.emoji {
            width: 31px;
          }
          .protyle-wysiwyg .h3 img.emoji,
          .b3-typography h3 img.emoji {
            width: 27px;
          }
          .protyle-wysiwyg .h4 img.emoji,
          .b3-typography h4 img.emoji {
            width: 25px;
          }
          .protyle-wysiwyg .h5 img.emoji,
          .b3-typography h5 img.emoji {
            width: 22px;
          }
          .protyle-wysiwyg .h6 img.emoji,
          .b3-typography h6 img.emoji {
            width: 20px;
          }
        </style>
      </head>
      <body>
        <div class="protyle-wysiwyg protyle-wysiwyg--attr" style="max-width: 800px;margin: 0 auto;" id="preview">
          <div data-subtype="h1" data-node-id="20230808120347-3cob0nb" data-type="NodeHeading" class="h1" id="20230808120347-3cob0nb" title="数据同步" updated="20230220103623"><div contenteditable="false" spellcheck="false">数据同步</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120347-wx5cr4v" data-type="NodeHeading" class="h2" id="20230808120347-wx5cr4v" updated="20210721103911"><div contenteditable="false" spellcheck="false">概述</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-q4v034g" data-type="NodeParagraph" class="p" id="20230808120347-q4v034g" updated="20210721103854"><div contenteditable="false" spellcheck="false">数据同步指的是在多个设备上保持 <span data-type="code">工作空间/data/</span> 文件夹数据一致，包括资源文件、模板、挂件以及笔记本数据。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120347-qbr56bx" data-type="NodeHeading" class="h2" id="20230808120347-qbr56bx" updated="20210721103758"><div contenteditable="false" spellcheck="false">使用方式</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-2p4bc49" data-type="NodeParagraph" class="p" id="20230808120347-2p4bc49" updated="20220821170632"><div contenteditable="false" spellcheck="false">初始化数据仓库密钥<sup class="footnotes-ref" id="footnotes-ref-1"><a href="#footnotes-def-1">1</a></sup>后如果一切正常就已经配置好同步了。如果你不太熟悉同步配置，建议通过点击同步按钮打开同步配置向导，通过向导进行配置会更简便一些。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-n3vxtba" data-type="NodeList" class="list" id="20230808120347-n3vxtba" updated="20220708101339"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-kmv8g3m" data-type="NodeListItem" class="li" id="20230808120347-kmv8g3m" updated="20220708101329"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-mthf707" data-type="NodeParagraph" class="p" id="20230808120347-mthf707" updated="20220708101330"><div contenteditable="false" spellcheck="false">如果需要暂停同步，可关闭选项 <span data-type="kbd">设置</span> - <span data-type="kbd">云端</span> - <span data-type="kbd">启用云端同步</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-2m0pkdb" data-type="NodeListItem" class="li" id="20230808120347-2m0pkdb" updated="20220708101339"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-cslq6vc" data-type="NodeParagraph" class="p" updated="20220708101339" id="20230808120347-cslq6vc"><div contenteditable="false" spellcheck="false">忽略文件<sup class="footnotes-ref" id="footnotes-ref-2"><a href="#footnotes-def-2">2</a></sup></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-qytpdxh" data-type="NodeParagraph" class="p" id="20230808120347-qytpdxh" updated="20220831004438"><div contenteditable="false" spellcheck="false">​<span data-type="tag">注意</span>​​：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-y41kxh2" data-type="NodeList" class="list" id="20230808120347-y41kxh2" updated="20230220103623"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-xthfmk7" data-type="NodeListItem" class="li" id="20230808120347-xthfmk7" updated="20230220103623"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-p3dn7n3" data-type="NodeParagraph" class="p" id="20230808120347-p3dn7n3" updated="20230220103623"><div contenteditable="false" spellcheck="false">启用同步前，请确保参与同步的所有设备系统时间一致</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-3l72g5v" data-type="NodeListItem" class="li" updated="20230220103538" id="20230808120347-3l72g5v"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-4mlag9e" data-type="NodeParagraph" class="p" updated="20230220103539" id="20230808120347-4mlag9e"><div contenteditable="false" spellcheck="false">如果数据量较大，建议通过设置中的 <span data-type="kbd">导出 - Data</span>​ 导出数据包，然后将该数据包通过手动拷贝或者其他方式发送到新设备上，并在新设备上 <span data-type="kbd">导入 - Data</span>​，最后再配置同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120347-buiv5yn" data-type="NodeHeading" class="h2" id="20230808120347-buiv5yn" updated="20230219120246"><div contenteditable="false" spellcheck="false">同步模式</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-fwrmpx3" data-type="NodeParagraph" class="p" id="20230808120347-fwrmpx3" updated="20230219120420"><div contenteditable="false" spellcheck="false">在 <span data-type="kbd">设置</span>​ - <span data-type="kbd">云端</span>​ - <span data-type="kbd">云端同步模式</span>​ 中支持三种同步模式：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-amosggq" data-type="NodeList" class="list" updated="20230219121049" id="20230808120347-amosggq"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-7xxyobg" data-type="NodeListItem" class="li" id="20230808120347-7xxyobg" updated="20230219121045"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-nwozegn" data-type="NodeParagraph" class="p" id="20230808120347-nwozegn" updated="20230219121007"><div contenteditable="false" spellcheck="false">自动同步</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-l1b7vtd" data-type="NodeList" class="list" id="20230808120347-l1b7vtd" updated="20230219121045"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-7yo5dux" data-type="NodeListItem" class="li" id="20230808120347-7yo5dux"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-33fgevw" data-type="NodeParagraph" class="p" id="20230808120347-33fgevw"><div contenteditable="false" spellcheck="false">启动和退出时会进行一次同步，使用中数据不再变动后 30 秒进行一次同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-k9w4s4e" data-type="NodeListItem" class="li" id="20230808120347-k9w4s4e" updated="20230219121045"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-tixrpss" data-type="NodeParagraph" class="p" id="20230808120347-tixrpss" updated="20230219121045"><div contenteditable="false" spellcheck="false">由同步算法决定数据合并和覆盖，请参考下述工作原理介绍</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-vzxk1jz" data-type="NodeListItem" class="li" id="20230808120347-vzxk1jz" updated="20230219121049"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-1gxchhr" data-type="NodeParagraph" class="p" id="20230808120347-1gxchhr" updated="20230219120922"><div contenteditable="false" spellcheck="false">手动同步</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-no67dio" data-type="NodeList" class="list" id="20230808120347-no67dio" updated="20230219121049"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-5cx2eby" data-type="NodeListItem" class="li" id="20230808120347-5cx2eby"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-1wfzyl4" data-type="NodeParagraph" class="p" id="20230808120347-1wfzyl4" updated="20230219120927"><div contenteditable="false" spellcheck="false">仅启动和退出时进行一次同步，使用中需要手动触发同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-gq4mmhp" data-type="NodeListItem" class="li" id="20230808120347-gq4mmhp" updated="20230219121049"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-zsvwvg9" data-type="NodeParagraph" class="p" id="20230808120347-zsvwvg9" updated="20230219121049"><div contenteditable="false" spellcheck="false">由同步算法决定数据合并和覆盖，请参考下述工作原理介绍</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-mzynq44" data-type="NodeListItem" class="li" id="20230808120347-mzynq44"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-zlxogea" data-type="NodeParagraph" class="p" id="20230808120347-zlxogea" updated="20230219120848"><div contenteditable="false" spellcheck="false">完全手动同步：启动和退出时均不同步，完全手动控制同步时机和同步方向</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120347-lptnyvq" data-type="NodeHeading" class="h2" id="20230808120347-lptnyvq" updated="20230219121525"><div contenteditable="false" spellcheck="false">自动/手动同步模式工作原理</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-o64blc2" data-type="NodeParagraph" class="p" id="20230808120347-o64blc2" updated="20220703225614"><div contenteditable="false" spellcheck="false">思源通过对比云端数据快照和本地数据快照进行相应操作：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-j4bqb3a" data-type="NodeList" class="list" id="20230808120347-j4bqb3a" updated="20220703230810"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-7uvkzsb" data-type="NodeListItem" class="li" id="20230808120347-7uvkzsb" updated="20210901163356"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-dx8pr4f" data-type="NodeParagraph" class="p" updated="20220703230507" id="20230808120347-dx8pr4f"><div contenteditable="false" spellcheck="false">如果快照相同则忽略本次同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-pvyr15g" data-type="NodeListItem" class="li" updated="20220703230810" id="20230808120347-pvyr15g"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-5e92ogb" data-type="NodeParagraph" class="p" id="20230808120347-5e92ogb" updated="20220703230630"><div contenteditable="false" spellcheck="false">如果快照不同，则将本地距离上次同步的变更上传到云端，将云端最新的变更合并到本地</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-vb1ee0l" data-type="NodeList" class="list" id="20230808120347-vb1ee0l" updated="20220703230810"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-fbsghqb" data-type="NodeListItem" class="li" id="20230808120347-fbsghqb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-cvefpca" data-type="NodeParagraph" class="p" updated="20220703230650" id="20230808120347-cvefpca"><div contenteditable="false" spellcheck="false">如果两端的变更没有冲突则直接合并</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-7p8pzdq" data-type="NodeListItem" class="li" id="20230808120347-7p8pzdq" updated="20220703230810"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-t5n8fkj" data-type="NodeParagraph" class="p" id="20230808120347-t5n8fkj" updated="20220703230810"><div contenteditable="false" spellcheck="false">如果存在文件冲突，则以本地为准覆盖云端，同时拉取到的云端冲突文件会归入到数据历史中</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-piwm6s0" data-type="NodeParagraph" class="p" id="20230808120347-piwm6s0" updated="20230219121719"><div contenteditable="false" spellcheck="false">自动同步时间间隔算法描述如下：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-3afa1j8" data-type="NodeList" class="list" id="20230808120347-3afa1j8" updated="20220510104801"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-9gjv9e4" data-type="NodeListItem" class="li" id="20230808120347-9gjv9e4" updated="20220510104612"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-sx4xflq" data-type="NodeParagraph" class="p" id="20230808120347-sx4xflq" updated="20220510104612"><div contenteditable="false" spellcheck="false">数据变动后 30 秒如果不再发生变动则进行一次对比，如果继续发生变动则顺延 30 秒</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-uu8mf5z" data-type="NodeListItem" class="li" id="20230808120347-uu8mf5z" updated="20220510104801"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-tm5aosj" data-type="NodeParagraph" class="p" id="20230808120347-tm5aosj" updated="20220510104801"><div contenteditable="false" spellcheck="false">没有数据变动则按 5 分钟、8 分钟、16 分钟、32 分钟……递增间隔</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120347-w8dfrmf" data-type="NodeHeading" class="h2" updated="20230219120510" id="20230808120347-w8dfrmf"><div contenteditable="false" spellcheck="false">自动同步模式场景例举</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-92sa9pr" data-type="NodeParagraph" class="p" id="20230808120347-92sa9pr" updated="20220307094844"><div contenteditable="false" spellcheck="false">从上述工作原理我们可以得知，思源仅支持在多设备上交替同步数据：设备 A 上同步完成以后设备 B 上再进行同步。无法支持多设备同时同步，这样会发生无法预期的数据覆盖。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20230808120347-dec0dhv" data-type="NodeHeading" class="h3" id="20230808120347-dec0dhv" updated="20220307092705"><div contenteditable="false" spellcheck="false">正常场景</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="o" data-node-id="20230808120347-0t8dl3b" data-type="NodeList" class="list" id="20230808120347-0t8dl3b" updated="20220307093834"><div data-marker="1." data-subtype="o" data-node-id="20230808120347-hoyv0c6" data-type="NodeListItem" class="li" id="20230808120347-hoyv0c6"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">1.</div><div data-node-id="20230808120347-pnaqfwp" data-type="NodeParagraph" class="p" id="20230808120347-pnaqfwp" updated="20220307093526"><div contenteditable="false" spellcheck="false">在设备 A 上编辑后执行同步（通过自动或者手动触发同步），此时云端数据会被设备 A 数据覆盖，既云端和设备 A 保持数据一致</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="2." data-subtype="o" data-node-id="20230808120347-f6n68f0" data-type="NodeListItem" class="li" id="20230808120347-f6n68f0"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">2.</div><div data-node-id="20230808120347-r17i3kh" data-type="NodeParagraph" class="p" id="20230808120347-r17i3kh" updated="20220307093637"><div contenteditable="false" spellcheck="false">在设备 B 上执行同步，此时设备 B 数据会被云端数据覆盖，即云端和设备 A、B 保持数据一致</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="3." data-subtype="o" data-node-id="20230808120347-8r0pu6k" data-type="NodeListItem" class="li" id="20230808120347-8r0pu6k"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">3.</div><div data-node-id="20230808120347-cxnduxx" data-type="NodeParagraph" class="p" id="20230808120347-cxnduxx" updated="20220307093705"><div contenteditable="false" spellcheck="false">设备 B 上编辑后再次执行同步，此时云端数据会被设备 B 数据覆盖，既云端和设备 B 保持数据一致</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="4." data-subtype="o" data-node-id="20230808120347-x5cb7aq" data-type="NodeListItem" class="li" updated="20220307093834" id="20230808120347-x5cb7aq"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">4.</div><div data-node-id="20230808120347-099ii2x" data-type="NodeParagraph" class="p" id="20230808120347-099ii2x" updated="20220307093834"><div contenteditable="false" spellcheck="false">在设备 A 上执行同步，此时设备 A 数据会被云端数据覆盖，即云端和设备 A、B 保持数据一致</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20230808120347-5crduzj" data-type="NodeParagraph" class="p" id="20230808120347-5crduzj" updated="20220307093342"><div contenteditable="false" spellcheck="false">该场景下，使用同步的过程是在设备 A、B 上交替进行的，这样能够保证数据同步符合预期正常完成。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h3" data-node-id="20230808120347-2ir9q3j" data-type="NodeHeading" class="h3" id="20230808120347-2ir9q3j" updated="20220703231010"><div contenteditable="false" spellcheck="false">冲突场景</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="o" data-node-id="20230808120347-7b58yr8" data-type="NodeList" class="list" id="20230808120347-7b58yr8" updated="20221009104351"><div data-marker="1." data-subtype="o" data-node-id="20230808120347-8zop0b9" data-type="NodeListItem" class="li" id="20230808120347-8zop0b9"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">1.</div><div data-node-id="20230808120347-mhivq6o" data-type="NodeParagraph" class="p" id="20230808120347-mhivq6o" updated="20220703231043"><div contenteditable="false" spellcheck="false">在设备 A 上编辑 a 文件后同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="2." data-subtype="o" data-node-id="20230808120347-drznd8r" data-type="NodeListItem" class="li" id="20230808120347-drznd8r" updated="20220703231050"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">2.</div><div data-node-id="20230808120347-s36sg66" data-type="NodeParagraph" class="p" id="20230808120347-s36sg66" updated="20220703231050"><div contenteditable="false" spellcheck="false">在设备 B 上编辑 a 文件后同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="3." data-subtype="o" data-node-id="20230808120347-msh8db8" data-type="NodeListItem" class="li" id="20230808120347-msh8db8" updated="20221009104351"><div class="protyle-action protyle-action--order" contenteditable="false" draggable="true">3.</div><div data-node-id="20230808120347-vbx3gpm" data-type="NodeParagraph" class="p" id="20230808120347-vbx3gpm" updated="20221009104351"><div contenteditable="false" spellcheck="false">此时云端 a 文件会被 B 设备上的 a 覆盖，同时在 B 设备上生成之前 A 设备 a 的历史</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20230808120347-yy5m46r" data-type="NodeHeading" class="h2" id="20230808120347-yy5m46r" updated="20220307092835"><div contenteditable="false" spellcheck="false"><span data-type="tag">注意</span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20230808120347-um16u4f" data-type="NodeList" class="list" id="20230808120347-um16u4f" updated="20220807180028"><div data-marker="*" data-subtype="u" data-node-id="20230808120347-5j8ihgi" data-type="NodeListItem" class="li" id="20230808120347-5j8ihgi" updated="20220420100248"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-fr63cm5" data-type="NodeParagraph" class="p" updated="20220420100248" id="20230808120347-fr63cm5"><div contenteditable="false" spellcheck="false">睡眠或关机等突然断网的情况下不会触发同步，请手动点击同步按钮进行同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-sampfbn" data-type="NodeListItem" class="li" id="20230808120347-sampfbn" updated="20210721160123"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-ibgzf8o" data-type="NodeParagraph" class="p" id="20230808120347-ibgzf8o" updated="20210721160123"><div contenteditable="false" spellcheck="false">请勿同时使用第三方同步盘和思源同步，可能会导致数据损坏</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20230808120347-g4y6u9o" data-type="NodeListItem" class="li" id="20230808120347-g4y6u9o" updated="20220807180028"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20230808120347-rbe32cd" data-type="NodeParagraph" class="p" id="20230808120347-rbe32cd" updated="20220807180028"><div contenteditable="false" spellcheck="false">符号链接和隐藏文件不会被同步</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="footnotes-defs-div"><hr class="footnotes-defs-hr" />
<ol class="footnotes-defs-ol"><li><div data-subtype="h3" data-node-id="20220615113758-i2279ot" data-type="NodeHeading" class="h3" id="20220615113758-i2279ot" updated="20220615113939"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-1"></span>初始化密钥</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615113752-lbtlf6j" data-type="NodeParagraph" class="p" id="20220615113752-lbtlf6j" updated="20220615113952"><div contenteditable="false" spellcheck="false">第一次使用数据快照前需要在 <span data-type="kbd">设置</span> - <span data-type="kbd">关于</span> 中初始化 <span data-type="kbd">数据仓库密钥</span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220722001510-mtrrbj0" data-type="NodeParagraph" class="p" id="20220722001510-mtrrbj0" updated="20220722001555"><div contenteditable="false" spellcheck="false">初始化密钥有三种方式：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220722001555-3wcanjb" data-type="NodeList" class="list" id="20220722001555-3wcanjb" updated="20220722001917"><div data-marker="*" data-subtype="u" data-node-id="20220722001556-sjm48yn" data-type="NodeListItem" class="li" id="20220722001556-sjm48yn" updated="20220722001556"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001556-8sc4mqb" data-type="NodeParagraph" class="p" id="20220722001556-8sc4mqb" updated="20220722001656"><div contenteditable="false" spellcheck="false"><span data-type="kbd">导入密钥</span>：将其他设备上的密钥字符串复制到此粘贴导入</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220722001657-79plg0z" data-type="NodeListItem" class="li" id="20220722001657-79plg0z"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001657-gh22p4n" data-type="NodeParagraph" class="p" id="20220722001657-gh22p4n" updated="20220722001831"><div contenteditable="false" spellcheck="false"><span data-type="kbd">自动生成密钥</span>：使用随机数生成密钥，该方式只需在一台设备上执行一次，其他设备使用 <span data-type="kbd">导入密钥</span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220722001834-8kc1pdr" data-type="NodeListItem" class="li" id="20220722001834-8kc1pdr" updated="20220722001917"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220722001834-13o5rzz" data-type="NodeParagraph" class="p" id="20220722001834-13o5rzz" updated="20220722001917"><div contenteditable="false" spellcheck="false"><span data-type="kbd">通过密码生成密钥</span>：使用自定义的密码短语生成密钥，该方式需要在所有设备上都使用相同的密码短语</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220615113953-4o3uc9z" data-type="NodeParagraph" class="p" id="20220615113953-4o3uc9z" updated="20220722002029"><div contenteditable="false" spellcheck="false">总而言之，请务必保证所有设备都使用相同的密钥，否则数据快照将无法跨设备使用，比如无法通过云端同步数据快照。</div><div class="protyle-attr" contenteditable="false"></div></div></li>
<li><div data-subtype="h3" data-node-id="20210928094544-vg2c2ts" data-type="NodeHeading" class="h3" id="20210928094544-vg2c2ts" updated="20210928094608"><div contenteditable="false" spellcheck="false"><span id="footnotes-def-2"></span>忽略文件</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20210928094612-rymbb43" data-type="NodeParagraph" class="p" id="20210928094612-rymbb43" updated="20220708101301"><div contenteditable="false" spellcheck="false">如果需要在创建快照时忽略一些文件，请在文件系统上创建或编辑文本文件 <span data-type="code"> 工作空间/data/.siyuan/syncignore</span>， 其中每一行使用 data 文件夹的相对路径进行配置，表示忽略文件或文件夹的路径，支持通配符。例如：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20210928094821-syjcgbp" data-type="NodeList" class="list" id="20210928094821-syjcgbp" updated="20211222185741"><div data-marker="*" data-subtype="u" data-node-id="20210928094822-nn422ie" data-type="NodeListItem" class="li" id="20210928094822-nn422ie" updated="20211222185741"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210928094822-ipyjn3n" data-type="NodeParagraph" class="p" id="20210928094822-ipyjn3n" updated="20211222185741"><div contenteditable="false" spellcheck="false"><span data-type="code">20210808180117-6v0mkxr/**/*</span>： 忽略 data/20210808180117-6v0mkxr 笔记本</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20210928095121-tyfox35" data-type="NodeListItem" class="li" updated="20210928095254" id="20210928095121-tyfox35"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20210928095121-tng5faj" data-type="NodeParagraph" class="p" updated="20210928095254" id="20210928095121-tng5faj"><div contenteditable="false" spellcheck="false"><span data-type="code">assets/*.pdf</span>：忽略 data/assets/ 下的 PDF 文件</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div></li>
</ol></div>
        </div>
        <script src="../../../appearance/icons/material/icon.js?2.10.5"></script>
        <script src="../../../stage/build/export/protyle-method.js?2.10.5"></script>
        <script src="../../../stage/protyle/js/lute/lute.min.js?2.10.5"></script>
        <script>
          window.siyuan = {
            config: {
              appearance: { mode: 0, codeBlockThemeDark: "base16/dracula", codeBlockThemeLight: "github" },
              editor: {
                codeLineWrap: true,
                codeLigatures: false,
                plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
                codeSyntaxHighlightLineNum: true,
                katexMacros: JSON.stringify({}),
              },
            },
            languages: { copy: "复制" },
          };
          const previewElement = document.getElementById("preview");
          Protyle.highlightRender(previewElement, "../../../stage/protyle");
          Protyle.mathRender(previewElement, "../../../stage/protyle", false);
          Protyle.mermaidRender(previewElement, "../../../stage/protyle");
          Protyle.flowchartRender(previewElement, "../../../stage/protyle");
          Protyle.graphvizRender(previewElement, "../../../stage/protyle");
          Protyle.chartRender(previewElement, "../../../stage/protyle");
          Protyle.mindmapRender(previewElement, "../../../stage/protyle");
          Protyle.abcRender(previewElement, "../../../stage/protyle");
          Protyle.htmlRender(previewElement);
          Protyle.plantumlRender(previewElement, "../../../stage/protyle");
          document.querySelectorAll(".protyle-action__copy").forEach((item) => {
            item.addEventListener("click", (event) => {
              navigator.clipboard.writeText(item.parentElement.nextElementSibling.textContent.trimEnd());
              event.preventDefault();
              event.stopPropagation();
            });
          });
        </script>
      </body>
    </html>